<html>
	<head>
		<title>Spark</title>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<style>body {
    margin: 0;
    padding: 0;
    font: 14px/1.5 'Palatino Linotype', 'Book Antiqua', Palatino, FreeSerif, serif;
    color: #252519;
}
a {
    color: #252519;
}
a:hover {
    text-decoration: underline;
    color: #19469D;
}
p {
    margin: 12px 0;
}
h1, h2, h3 {
    margin: 0;
    padding: 0;
}
table#source {
    width: 100%;
    border-collapse: collapse;
}
table#source td:first-child {
    padding: 30px 40px 30px 40px;
    vertical-align: top;
}
table#source td:first-child,
table#source td:first-child pre {
    width: 450px;
}
table#source td:last-child {
    padding: 30px 0 30px 40px;
    border-left: 1px solid #E5E5EE;
    background: #F5F5FF;
}
table#source tr {
    border-bottom: 1px solid #E5E5EE;
}
table#source tr.filename {
    padding-top: 40px;
    border-top: 1px solid #E5E5EE;
}
table#source tr.filename td:first-child {
    text-transform: capitalize;
}
table#source tr.filename td:last-child {
    font-size: 12px;
}
table#source tr.filename h2 {
    margin: 0;
    padding: 0;
    cursor: pointer;
}
table#source tr.code h1,
table#source tr.code h2,
table#source tr.code h3 {
    margin-top: 30px;
    font-family: "Lucida Grande", "Helvetica Nueue", Arial, sans-serif;
    font-size: 18px;
}
table#source tr.code h2 {
    font-size: 16px;
}
table#source tr.code h3 {
    font-size: 14px;
}
table#source tr.code ul {
    margin: 15px 0 15px 35px;
    padding: 0;
}
table#source tr.code ul li {
    margin: 0;
    padding: 1px 0;
}
table#source tr.code ul li p {
    margin: 0;
    padding: 0;
}
table#source tr.code td:first-child pre {
    padding: 20px;
}
#ribbon {
    position: fixed;
    top: 0;
    right: 0;
}
code .string { color: #219161; }
code .regexp { color: #219161; }
code .keyword { color: #954121; }
code .number { color: #19469D; }
code .comment { color: #bbb; }
code .this { color: #19469D; }</style>
		<script>
			$(function(){
				$('tr.code').hide();
				$('tr.filename').toggle(function(){
					$(this).nextUntil('.filename').fadeIn();
				}, function(){
					$(this).nextUntil('.filename').fadeOut();
				});
			});
		</script>
	</head>
	<body>
<table id="source"><tbody><tr><td><h1>Spark</h1><p><a href="http://sparkjs.co.uk/">Spark</a> is a lightweight JavaScript library written by <a href="http://flowdev.co.uk/">Oliver Caldwell</a>. The repository is located on GitHub at <a href="https://github.com/SparkJS/Spark">SparkJS/Spark</a>.</p>

<p>Below you will find documentation for all of the functions.</p>

<h2>Plugins</h2>

<p>Writing plugins to add functionality to Spark is easy. All you have to do is use the extend method. Like so.</p>

<pre><code>Spark.extend('myPluginName', function() {
    // Your code goes here
});</code></pre>

<p>If you want to allow your plugin to be chained you just have to return <code>this</code>.</p>

<pre><code>Spark.extend('myPluginName', function() {
    // Enable chaining
    return this;
});</code></pre>

<p>You should use <code>this.each</code> to loop over all of the elements, define all variables at the top of your function and create a JSDoc comment.</p>

<p>Here is an example debug plugin.</p>

<pre><code>/**
 * Logs the specified value of all found elements
 * 
 * This will output the class name of all p tags on the page
 * 
 *     $('p').debug('className');
 * 
 * @param {String} value Name of the value you wish to log
 * @returns {Object} Spark object for chaining
 */
Spark.extend('debug', function(value) {
    // Initialise any required variables
    var output = [];

    // Loop over all elements
    this.each(function(e) {
        // Push the value
        output.push(e[value]);
    });

    // Show the output
    console.log(output);

    // Enable chaining
    return this;
});</code></pre>

<h2>Transitions</h2>

<p>You can add extra transitions as and when you choose, they are a kind of sub-plugin.</p>

<p>To add one, simply add your transition function to <code>Spark.transitions.show</code> and <code>Spark.transitions.hide</code>.</p>

<p>I recommend copying the source of the fade transition and building on top of that.</p>

<p>After it is added you can use it via the <code>toggle</code>, <code>show</code> and <code>hide</code> functions by passing its name as the argument.</p>

<p>For instance, if you created one called <code>drop</code>. You could run the showing version like so.</p>

<pre><code>$('div').show('drop');</code></pre>

<p>And you could run the hiding version like this.</p>

<pre><code>$('div').hide('drop');</code></pre></td><td></td></tr><tr class="filename"><td><h2 id="src/addClass.js"><a href="#">addClass</a></h2></td><td>src/addClass.js</td></tr><tr class="code">
<td class="docs">
<p>Add a class to the specified elements</p>

<p>This will add the class, border, to all the h1 tags on the page.</p>

<pre><code>$('h1').addClass('border');</code></pre>

<p>You can also pass an array instead and all of the class names in the array will be added.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Array</em>  name The class name you want to add or an array of class names</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'addClass'</span>, <span class="keyword">function</span>(<span class="variable">name</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">c</span> = <span class="keyword">null</span>,
		<span class="variable">that</span> = <span class="this">this</span>,
		<span class="variable">element</span> = <span class="keyword">null</span>,
		<span class="variable">type</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Loop through all the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Get the element</span>
		<span class="variable">element</span> = <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>);
		
		<span class="comment">// Check if name is an array</span>
		<span class="keyword">if</span>(<span class="variable">name</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
			<span class="comment">// Loop over the array</span>
			<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">n</span>) {
				<span class="comment">// Rerun the function</span>
				<span class="variable">element</span>.<span class="variable">addClass</span>(<span class="variable">n</span>);
			}, <span class="variable">name</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// Check if it already has the class</span>
			<span class="keyword">if</span>(!<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">hasClass</span>(<span class="variable">name</span>)) {
				<span class="comment">// Get the type</span>
				<span class="variable">type</span> = <span class="variable">element</span>.<span class="variable">attribute</span>(<span class="string">'class'</span>) ? <span class="string">'class'</span> : <span class="string">'className'</span>;
				
				<span class="comment">// Grab the class</span>
				<span class="variable">c</span> = <span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>);
				
				<span class="comment">// It doesnt, add it and trim off whitespace</span>
				<span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>, ((<span class="variable">c</span>) ? <span class="variable">c</span> + <span class="string">' '</span> + <span class="variable">name</span> : <span class="variable">name</span>).<span class="variable">replace</span>(<span class="regexp">/^\s+|\s+$/i</span>, <span class="string">''</span>));
			}
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/addEvent.js"><a href="#">addEvent</a></h2></td><td>src/addEvent.js</td></tr><tr class="code">
<td class="docs">
<p>Add an event listener to the found elements.</p>

<p>To set an event you must specify an event type and callback. The callback will be passed the event object as an argument.</p>

<p>If you wanted to set a listener for click event on all p tags then you would use the following line.</p>

<pre><code>$('p').addEvent('click', function(e) {
    // Code to handle the click event goes here
});</code></pre>

<p>If you return false from your callback then the default action will be prevented. For instance, this line would cause all links on the page to stop working.</p>

<pre><code>$('a').addEvent('click', function(e) { return false });</code></pre>

<p>The function also takes an optional third argument, <code>stopBubble</code>.</p>

<p>If true then event bubbling will be prevented.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  type Name of the event you want to listen for</p></li><li><p><strong>param</strong>: <em>Function</em>  fn Function to be run when the event occurs</p></li><li><p><strong>param</strong>: <em>Boolean</em>  stopBubble If true then event bubbling will be prevented</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'addEvent'</span>, <span class="keyword">function</span>(<span class="variable">type</span>, <span class="variable">fn</span>, <span class="variable">stopBubble</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>;
	
	<span class="keyword">function</span> <span class="variable">fixEvent</span>(<span class="variable">e</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">posx</span> = <span class="number integer">0</span>,
			<span class="variable">posy</span> = <span class="number integer">0</span>,
			<span class="variable">obj</span> = <span class="keyword">null</span>,
			<span class="variable">offsetX</span> = <span class="number integer">0</span>,
			<span class="variable">offsetY</span> = <span class="number integer">0</span>;
		
		<span class="comment">// Fix IE's wrong association of the target element</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">e</span>.<span class="variable">target</span> === <span class="string">'undefined'</span>) {
			<span class="variable">e</span>.<span class="variable">target</span> = <span class="variable">e</span>.<span class="variable">srcElement</span>;
		}
		
		<span class="comment">// Fix Safaris problem with selecting the wrong node type</span>
		<span class="keyword">if</span>(<span class="variable">e</span>.<span class="variable">target</span>.<span class="variable">nodeType</span> === <span class="number integer">3</span>) {
			<span class="variable">e</span>.<span class="variable">target</span> = <span class="variable">e</span>.<span class="variable">target</span>.<span class="variable">parentNode</span>;
		}
		
		<span class="comment">// Make sure we have keyCode, and not which</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">e</span>.<span class="variable">keyCode</span> === <span class="string">'undefined'</span>) {
			<span class="variable">e</span>.<span class="variable">keyCode</span> = <span class="variable">e</span>.<span class="variable">which</span>;
		}
		
		<span class="comment">// Fix IE's pageX/Y locations</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">e</span>.<span class="variable">pageX</span> === <span class="string">'undefined'</span>) {
			<span class="variable">e</span>.<span class="variable">pageX</span> = <span class="variable">e</span>.<span class="variable">clientX</span> + <span class="variable">document</span>.<span class="variable">body</span>.<span class="variable">scrollLeft</span> + <span class="variable">document</span>.<span class="variable">documentElement</span>.<span class="variable">scrollLeft</span>;
			<span class="variable">e</span>.<span class="variable">pageY</span> = <span class="variable">e</span>.<span class="variable">clientY</span> + <span class="variable">document</span>.<span class="variable">body</span>.<span class="variable">scrollTop</span> + <span class="variable">document</span>.<span class="variable">documentElement</span>.<span class="variable">scrollTop</span>;
		}
		
		<span class="comment">// Fix the offsetX/Y in Firefox</span>
		<span class="variable">obj</span> = <span class="variable">e</span>.<span class="variable">target</span>;
		<span class="keyword">if</span>(<span class="variable">obj</span>.<span class="variable">offsetParent</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">navigator</span>.<span class="variable">userAgent</span>.<span class="variable">indexOf</span>(<span class="string">'Opera'</span>) === -<span class="number integer">1</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">navigator</span>.<span class="variable">userAgent</span>.<span class="variable">indexOf</span>(<span class="string">'MSIE'</span>) === -<span class="number integer">1</span>) {
			<span class="keyword">do</span> {
				<span class="variable">obj</span> = <span class="variable">obj</span>.<span class="variable">offsetParent</span>;
				<span class="variable">offsetX</span> += <span class="variable">obj</span>.<span class="variable">offsetLeft</span>;
				<span class="variable">offsetY</span> += <span class="variable">obj</span>.<span class="variable">offsetTop</span>;
			} <span class="keyword">while</span>(<span class="variable">obj</span>.<span class="variable">offsetParent</span>);
			
			<span class="variable">e</span>.<span class="variable">offsetX</span> = <span class="variable">offsetX</span>;
			<span class="variable">e</span>.<span class="variable">offsetY</span> = <span class="variable">offsetY</span>;
		}
		
		<span class="comment">// Return the fixed event object</span>
		<span class="keyword">return</span> <span class="variable">e</span>;
	}
	
	<span class="keyword">function</span> <span class="variable">runCallback</span>(<span class="variable">e</span>) {
		<span class="comment">// Stop bubbling if required</span>
		<span class="keyword">if</span>(<span class="variable">stopBubble</span>) {
			<span class="variable">e</span>.<span class="variable">cancelBubble</span> = <span class="variable">true</span>;
			<span class="keyword">if</span>(<span class="variable">e</span>.<span class="variable">stopPropagation</span>) {
				<span class="variable">e</span>.<span class="variable">stopPropagation</span>();
			}
		}
		
		<span class="comment">// Run the callback and check if it returned false</span>
		<span class="keyword">if</span>(<span class="variable">fn</span>(<span class="variable">fixEvent</span>(<span class="variable">e</span>)) === <span class="variable">false</span>) {
			<span class="comment">// If so then prevent default</span>
			<span class="keyword">if</span>(<span class="variable">e</span>.<span class="variable">preventDefault</span>) {
				<span class="variable">e</span>.<span class="variable">preventDefault</span>();
			}
			<span class="keyword">else</span> {
				<span class="variable">e</span>.<span class="variable">returnValue</span> = <span class="variable">false</span>;
			}
		}
	}
	
	<span class="comment">// Loop through all the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Make sure it has an events array</span>
		<span class="keyword">if</span>(!<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkEvents'</span>)) {
			<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkEvents'</span>, []);
		}
		
		<span class="comment">// Assign the events data to the array</span>
		<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkEvents'</span>).<span class="variable">push</span>({
			<span class="variable">type</span>: <span class="variable">type</span>,
			<span class="variable">fn</span>: <span class="variable">fn</span>,
			<span class="variable">reference</span>: <span class="variable">runCallback</span>
		});
		
		<span class="comment">// Check if the browser supports addEventListener or attachEvent and use it</span>
		<span class="keyword">if</span>(<span class="variable">e</span>.<span class="variable">addEventListener</span>) {
			<span class="comment">// Assign event</span>
			<span class="variable">e</span>.<span class="variable">addEventListener</span>(<span class="variable">type</span>, <span class="variable">runCallback</span>, <span class="variable">false</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// Assign event</span>
			<span class="variable">e</span>.<span class="variable">attachEvent</span>(<span class="string">'on'</span> + <span class="variable">type</span>, <span class="variable">runCallback</span>);
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/animate.js"><a href="#">animate</a></h2></td><td>src/animate.js</td></tr><tr class="code">
<td class="docs">
<p>Animate styles of the specified elements</p>

<p>The minimal use of this function would be passing an object of animations like so</p>

<pre><code>$('p').animate({
    opacity: .5
});</code></pre>

<p>This will animate all p tags opacity to 0.5 over 600ms using the outQuad easing method.</p>

<p>You can pass a timeframe and easing like so.</p>

<pre><code>$('p').animate({
    opacity: .5
}, 1000, 'inBounce');</code></pre>

<p>This will obviously use inBounce as the easing method and will last for one second, or 1000 milliseconds.</p>

<p>You can also pass a callback function to be run when the animation completes like so.</p>

<pre><code>$('p').animate({
    opacity: .5
}, 1000, 'inBounce', function() {
    console.log('Animation complete');
});</code></pre>

<p>If you pass false for the timeframe or easing then it will default to 600ms and outQuad.</p>

<p>If you chain animations then they will stack up. Even if it is called from a different chain then the animations will stack. For example, these animations will run one after another.</p>

<pre><code>$('p').animate({
    opacity: .5
});

$('p').animate({
    opacity: 1
});</code></pre>

<p>The following code will produce an identical outcome to the one above.</p>

<pre><code>$('p').animate({
    opacity: .5
}).animate({
    opacity: 1
});</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>Object</em>  style Name of the style you wish to animate and then what you want to animate to</p></li><li><p><strong>param</strong>: <em>Number | Boolean</em>  timeframe How many milliseconds you wish the animation to take, pass false to default to 600</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  easing The easing method to use either in, out or inOut followed by one of the following: Quad, Cubic, Quart, Quint, Sine, Expo, Circ, Elastic, Back or Bounce, pass false to default to outQuad. You can also use linear</p></li><li><p><strong>param</strong>: <em>Function</em>  callback Function to be run on completion of the animation</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'animate'</span>, <span class="keyword">function</span>(<span class="variable">animations</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>,
		<span class="variable">fps</span> = <span class="number integer">50</span>,
		<span class="variable">i</span> = <span class="keyword">null</span>,
		<span class="variable">element</span> = <span class="keyword">null</span>,
		<span class="variable">notUnit</span> = <span class="regexp">/[\d\.\-]/g</span>,
		<span class="variable">stack</span> = <span class="keyword">null</span>,
		<span class="variable">from</span> = <span class="keyword">null</span>,
		<span class="variable">unit</span> = <span class="keyword">null</span>,
		<span class="variable">calculated</span> = <span class="keyword">null</span>,
		<span class="variable">difference</span> = <span class="keyword">null</span>,
		<span class="variable">a</span> = <span class="keyword">null</span>,
		<span class="variable">easingMethods</span> = {
			<span class="variable">inQuad</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span>*(<span class="variable">t</span>/=<span class="variable">d</span>)*<span class="variable">t</span> + <span class="variable">b</span>;
			},
			<span class="variable">outQuad</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> -<span class="variable">c</span> *(<span class="variable">t</span>/=<span class="variable">d</span>)*(<span class="variable">t</span>-<span class="number integer">2</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutQuad</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> -<span class="variable">c</span>/<span class="number integer">2</span> * ((--<span class="variable">t</span>)*(<span class="variable">t</span>-<span class="number integer">2</span>) - <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inCubic</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span>*(<span class="variable">t</span>/=<span class="variable">d</span>)*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
			},
			<span class="variable">outCubic</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span>*((<span class="variable">t</span>=<span class="variable">t</span>/<span class="variable">d</span>-<span class="number integer">1</span>)*<span class="variable">t</span>*<span class="variable">t</span> + <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutCubic</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*((<span class="variable">t</span>-=<span class="number integer">2</span>)*<span class="variable">t</span>*<span class="variable">t</span> + <span class="number integer">2</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inQuart</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span>*(<span class="variable">t</span>/=<span class="variable">d</span>)*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
			},
			<span class="variable">outQuart</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> -<span class="variable">c</span> * ((<span class="variable">t</span>=<span class="variable">t</span>/<span class="variable">d</span>-<span class="number integer">1</span>)*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> - <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutQuart</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> -<span class="variable">c</span>/<span class="number integer">2</span> * ((<span class="variable">t</span>-=<span class="number integer">2</span>)*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> - <span class="number integer">2</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inQuint</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span>*(<span class="variable">t</span>/=<span class="variable">d</span>)*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
			},
			<span class="variable">outQuint</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span>*((<span class="variable">t</span>=<span class="variable">t</span>/<span class="variable">d</span>-<span class="number integer">1</span>)*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutQuint</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*((<span class="variable">t</span>-=<span class="number integer">2</span>)*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span>*<span class="variable">t</span> + <span class="number integer">2</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inSine</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> -<span class="variable">c</span> * <span class="class">Math</span>.<span class="variable">cos</span>(<span class="regexp">/d * (Math.PI/</span><span class="number integer">2</span>)) + <span class="variable">c</span> + <span class="variable">b</span>;
			},
			<span class="variable">outSine</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span> * <span class="class">Math</span>.<span class="variable">sin</span>(<span class="regexp">/d * (Math.PI/</span><span class="number integer">2</span>)) + <span class="variable">b</span>;
			},
			<span class="variable">inOutSine</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> -<span class="regexp">/2 * (Math.cos(Math.PI*t/d</span>) - <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inExpo</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> (<span class="variable">t</span> === <span class="number integer">0</span>) ? <span class="variable">b</span> : <span class="variable">c</span> * <span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>, <span class="number integer">10</span> * (<span class="variable">t</span>/<span class="variable">d</span> - <span class="number integer">1</span>)) + <span class="variable">b</span>;
			},
			<span class="variable">outExpo</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> (<span class="variable">t</span> === <span class="variable">d</span>) ? <span class="variable">b</span>+<span class="variable">c</span> : <span class="variable">c</span> * (-<span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>, -<span class="number integer">10</span> * <span class="variable">t</span>/<span class="variable">d</span>) + <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutExpo</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span>(<span class="variable">t</span> === <span class="number integer">0</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>;
				}
				<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">t</span> === <span class="variable">d</span>) {
					<span class="keyword">return</span> <span class="variable">b</span> + <span class="variable">c</span>;
				}
				<span class="keyword">else</span> <span class="keyword">if</span>((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span> * <span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>, <span class="number integer">10</span> * (<span class="variable">t</span> - <span class="number integer">1</span>)) + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span> * (-<span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>, -<span class="number integer">10</span> * --<span class="variable">t</span>) + <span class="number integer">2</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inCirc</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> -<span class="variable">c</span> * (<span class="class">Math</span>.<span class="variable">sqrt</span>(<span class="number integer">1</span> - (<span class="variable">t</span>/=<span class="variable">d</span>)*<span class="variable">t</span>) - <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">outCirc</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span> * <span class="class">Math</span>.<span class="variable">sqrt</span>(<span class="number integer">1</span> - (<span class="variable">t</span>=<span class="variable">t</span>/<span class="variable">d</span>-<span class="number integer">1</span>)*<span class="variable">t</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutCirc</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> -<span class="variable">c</span>/<span class="number integer">2</span> * (<span class="class">Math</span>.<span class="variable">sqrt</span>(<span class="number integer">1</span> - <span class="variable">t</span>*<span class="variable">t</span>) - <span class="number integer">1</span>) + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span> * (<span class="class">Math</span>.<span class="variable">sqrt</span>(<span class="number integer">1</span> - (<span class="variable">t</span>-=<span class="number integer">2</span>)*<span class="variable">t</span>) + <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inElastic</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>, <span class="variable">a</span>, <span class="variable">p</span>) {
				<span class="keyword">var</span> <span class="variable">s</span> = <span class="keyword">null</span>;
				<span class="keyword">if</span>(<span class="variable">t</span> === <span class="number integer">0</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>;
				} 
				<span class="keyword">else</span> <span class="keyword">if</span>((<span class="variable">t</span>/=<span class="variable">d</span>) === <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>+<span class="variable">c</span>;
				}
				<span class="keyword">if</span>(!<span class="variable">p</span>) {
					<span class="variable">p</span>=<span class="variable">d</span>*<span class="number float">0.3</span>;
				}
				<span class="keyword">if</span>(<span class="variable">a</span> &<span class="variable">lt</span>; <span class="class">Math</span>.<span class="variable">abs</span>(<span class="variable">c</span>)) {
					<span class="variable">a</span>=<span class="variable">c</span>;
					<span class="variable">s</span>=<span class="variable">p</span>/<span class="number integer">4</span>;
				}
				<span class="keyword">else</span> {
					<span class="variable">a</span> = <span class="class">Math</span>.<span class="variable">abs</span>(<span class="variable">c</span>);
					<span class="variable">s</span> = <span class="regexp">/(2*Math.PI) * Math.asin(c/a</span>);
				}
				<span class="keyword">return</span> -(<span class="variable">a</span>*<span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>,<span class="number integer">10</span>*(<span class="variable">t</span>-=<span class="number integer">1</span>)) * <span class="class">Math</span>.<span class="variable">sin</span>( (<span class="variable">t</span>*<span class="variable">d</span>-<span class="variable">s</span>)*(<span class="number integer">2</span>*<span class="class">Math</span>.<span class="class">PI</span>)/<span class="variable">p</span> )) + <span class="variable">b</span>;
			},
			<span class="variable">outElastic</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>, <span class="variable">a</span>, <span class="variable">p</span>) {
				<span class="keyword">var</span> <span class="variable">s</span> = <span class="keyword">null</span>;
				<span class="keyword">if</span>(<span class="variable">t</span> === <span class="number integer">0</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>;
				}
				<span class="keyword">else</span> <span class="keyword">if</span>((<span class="variable">t</span>/=<span class="variable">d</span>) === <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>+<span class="variable">c</span>;
				}
				<span class="keyword">else</span> <span class="keyword">if</span> (!<span class="variable">p</span>) {
					<span class="variable">p</span>=<span class="variable">d</span>*<span class="number float">0.3</span>;
				}
				<span class="keyword">if</span>(<span class="variable">a</span> &<span class="variable">lt</span>; <span class="class">Math</span>.<span class="variable">abs</span>(<span class="variable">c</span>)) {
					<span class="variable">a</span>=<span class="variable">c</span>;
					<span class="variable">s</span>=<span class="variable">p</span>/<span class="number integer">4</span>;
				}
				<span class="keyword">else</span> {
					<span class="variable">a</span>=<span class="class">Math</span>.<span class="variable">abs</span>(<span class="variable">c</span>);
					<span class="variable">s</span>= <span class="regexp">/(2*Math.PI) * Math.asin (c/a</span>);
				}
				<span class="keyword">return</span> <span class="variable">a</span>*<span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>,-<span class="number integer">10</span>*<span class="variable">t</span>) * <span class="class">Math</span>.<span class="variable">sin</span>( (<span class="variable">t</span>*<span class="variable">d</span>-<span class="variable">s</span>)*(<span class="number integer">2</span>*<span class="class">Math</span>.<span class="class">PI</span>)/<span class="variable">p</span> ) + <span class="variable">c</span> + <span class="variable">b</span>;
			},
			<span class="variable">inOutElastic</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>, <span class="variable">a</span>, <span class="variable">p</span>) {
				<span class="keyword">var</span> <span class="variable">s</span> = <span class="keyword">null</span>;
				<span class="keyword">if</span> (<span class="variable">t</span> === <span class="number integer">0</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>;
				}
				<span class="keyword">else</span> <span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) === <span class="number integer">2</span>) {
					<span class="keyword">return</span> <span class="variable">b</span>+<span class="variable">c</span>;
				}
				<span class="keyword">else</span> <span class="keyword">if</span> (!<span class="variable">p</span>) {
					<span class="variable">p</span>=<span class="variable">d</span>*(<span class="number float">0.3</span>*<span class="number float">1.5</span>);
				}
				<span class="keyword">if</span> (<span class="variable">a</span> &<span class="variable">lt</span>; <span class="class">Math</span>.<span class="variable">abs</span>(<span class="variable">c</span>)) {
					<span class="variable">a</span>=<span class="variable">c</span>;
					<span class="variable">s</span>=<span class="variable">p</span>/<span class="number integer">4</span>;
				}
				<span class="keyword">else</span> {
					<span class="variable">a</span>=<span class="class">Math</span>.<span class="variable">abs</span>(<span class="variable">c</span>);
					<span class="variable">s</span>= <span class="regexp">/(2*Math.PI) * Math.asin (c/a</span>);
				}
				<span class="keyword">if</span> (<span class="variable">t</span> &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> -<span class="number float">0.5</span>*(<span class="variable">a</span>*<span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>,<span class="number integer">10</span>*(<span class="variable">t</span>-=<span class="number integer">1</span>)) * <span class="class">Math</span>.<span class="variable">sin</span>( (<span class="variable">t</span>*<span class="variable">d</span>-<span class="variable">s</span>)*(<span class="number integer">2</span>*<span class="class">Math</span>.<span class="class">PI</span>)/<span class="variable">p</span> )) + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="variable">a</span>*<span class="class">Math</span>.<span class="variable">pow</span>(<span class="number integer">2</span>,-<span class="number integer">10</span>*(<span class="variable">t</span>-=<span class="number integer">1</span>)) * <span class="class">Math</span>.<span class="variable">sin</span>( (<span class="variable">t</span>*<span class="variable">d</span>-<span class="variable">s</span>)*(<span class="number integer">2</span>*<span class="class">Math</span>.<span class="class">PI</span>)/<span class="variable">p</span> )*<span class="number float">0.5</span> + <span class="variable">c</span> + <span class="variable">b</span>;
			},
			<span class="variable">inBack</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>, <span class="variable">s</span>) {
				<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">s</span> === <span class="string">'undefined'</span>) {
					<span class="variable">s</span> = <span class="number float">1.70158</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>*(<span class="variable">t</span>/=<span class="variable">d</span>)*<span class="variable">t</span>*((<span class="variable">s</span>+<span class="number integer">1</span>)*<span class="variable">t</span> - <span class="variable">s</span>) + <span class="variable">b</span>;
			},
			<span class="variable">outBack</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>, <span class="variable">s</span>) {
				<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable">s</span> === <span class="string">'undefined'</span>) {
					<span class="variable">s</span> = <span class="number float">1.70158</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>*((<span class="variable">t</span>=<span class="variable">t</span>/<span class="variable">d</span>-<span class="number integer">1</span>)*<span class="variable">t</span>*((<span class="variable">s</span>+<span class="number integer">1</span>)*<span class="variable">t</span> + <span class="variable">s</span>) + <span class="number integer">1</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inOutBack</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>, <span class="variable">s</span>) {
				<span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable">s</span> === <span class="string">'undefined'</span>) {
					<span class="variable">s</span> = <span class="number float">1.70158</span>;
				}
				<span class="keyword">if</span> ((<span class="regexp">/=d/</span><span class="number integer">2</span>) &<span class="variable">lt</span>; <span class="number integer">1</span>) {
					<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*(<span class="variable">t</span>*<span class="variable">t</span>*(((<span class="variable">s</span>*=(<span class="number float">1.525</span>))+<span class="number integer">1</span>)*<span class="variable">t</span> - <span class="variable">s</span>)) + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="variable">c</span>/<span class="number integer">2</span>*((<span class="variable">t</span>-=<span class="number integer">2</span>)*<span class="variable">t</span>*(((<span class="variable">s</span>*=(<span class="number float">1.525</span>))+<span class="number integer">1</span>)*<span class="variable">t</span> + <span class="variable">s</span>) + <span class="number integer">2</span>) + <span class="variable">b</span>;
			},
			<span class="variable">inBounce</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">return</span> <span class="variable">c</span> - <span class="this">this</span>.<span class="variable">outBounce</span> (<span class="variable">d</span>-<span class="variable">t</span>, <span class="number integer">0</span>, <span class="variable">c</span>, <span class="variable">d</span>) + <span class="variable">b</span>;
			},
			<span class="variable">outBounce</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> ((<span class="regexp">/=d) &lt; (1/</span><span class="number float">2.75</span>)) {
					<span class="keyword">return</span> <span class="variable">c</span>*(<span class="number float">7.5625</span>*<span class="variable">t</span>*<span class="variable">t</span>) + <span class="variable">b</span>;
				} 
				<span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">t</span> &<span class="variable">lt</span>; (<span class="number integer">2</span>/<span class="number float">2.75</span>)) {
					<span class="keyword">return</span> <span class="variable">c</span>*(<span class="number float">7.5625</span>*(<span class="variable">t</span>-=(<span class="number float">1.5</span>/<span class="number float">2.75</span>))*<span class="variable">t</span> + <span class="number float">0.75</span>) + <span class="variable">b</span>;
				} 
				<span class="keyword">else</span> <span class="keyword">if</span> (<span class="variable">t</span> &<span class="variable">lt</span>; (<span class="number float">2.5</span>/<span class="number float">2.75</span>)) {
					<span class="keyword">return</span> <span class="variable">c</span>*(<span class="number float">7.5625</span>*(<span class="variable">t</span>-=(<span class="number float">2.25</span>/<span class="number float">2.75</span>))*<span class="variable">t</span> + <span class="number float">0.9375</span>) + <span class="variable">b</span>;
				}
				<span class="keyword">else</span> {
					<span class="keyword">return</span> <span class="variable">c</span>*(<span class="number float">7.5625</span>*(<span class="variable">t</span>-=(<span class="number float">2.625</span>/<span class="number float">2.75</span>))*<span class="variable">t</span> + <span class="number float">0.984375</span>) + <span class="variable">b</span>;
				}
			},
			<span class="variable">inOutBounce</span>: <span class="keyword">function</span> (<span class="variable">t</span>, <span class="variable">b</span>, <span class="variable">c</span>, <span class="variable">d</span>) {
				<span class="keyword">if</span> (<span class="variable">t</span> &<span class="variable">lt</span>; <span class="variable">d</span>/<span class="number integer">2</span>) {
					<span class="keyword">return</span> <span class="this">this</span>.<span class="variable">inBounce</span> (<span class="variable">t</span>*<span class="number integer">2</span>, <span class="number integer">0</span>, <span class="variable">c</span>, <span class="variable">d</span>) * <span class="number float">0.5</span> + <span class="variable">b</span>;
				}
				<span class="keyword">return</span> <span class="this">this</span>.<span class="variable">outBounce</span> (<span class="variable">t</span>*<span class="number integer">2</span>-<span class="variable">d</span>, <span class="number integer">0</span>, <span class="variable">c</span>, <span class="variable">d</span>) * <span class="number float">0.5</span> + <span class="variable">c</span>*<span class="number float">0.5</span> + <span class="variable">b</span>;
			},
			<span class="variable">linear</span>: <span class="keyword">function</span>(<span class="variable">frame</span>, <span class="variable">original</span>, <span class="variable">change</span>, <span class="variable">frames</span>) {
				<span class="keyword">return</span> <span class="variable">original</span> + (<span class="variable">frame</span> * (<span class="variable">change</span> / <span class="variable">frames</span>));
			}
		};
	
	<span class="keyword">function</span> <span class="variable">doFrame</span>(<span class="variable">element</span>, <span class="variable">name</span>, <span class="variable">value</span>, <span class="variable">time</span>) {
		<span class="comment">// Set the timeout</span>
		<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>).<span class="variable">push</span>(<span class="variable">setTimeout</span>(<span class="keyword">function</span>() {
			<span class="comment">// Apply the style</span>
			<span class="variable">element</span>.<span class="variable">style</span>(<span class="variable">name</span>, <span class="variable">value</span>);
		}, <span class="variable">time</span>));
	}
	
	<span class="keyword">function</span> <span class="variable">lastFrame</span>(<span class="variable">callback</span>, <span class="variable">element</span>, <span class="variable">time</span>) {
		<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>).<span class="variable">push</span>(<span class="variable">setTimeout</span>(<span class="keyword">function</span>() {
			<span class="comment">// Run the callback if it has been passed</span>
			<span class="keyword">if</span>(<span class="variable">callback</span>) {
				<span class="variable">callback</span>();
			}
			
			<span class="comment">// Remove the animation object</span>
			<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>).<span class="variable">shift</span>();
			
			<span class="comment">// Recurse</span>
			<span class="variable">animate</span>(<span class="variable">element</span>);
		}, <span class="variable">time</span>));
	}
	
	<span class="keyword">function</span> <span class="variable">animate</span>(<span class="variable">element</span>) {
		<span class="comment">// Grab the animation stack</span>
		<span class="variable">stack</span> = <span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>);
		
		<span class="comment">// Make sure we have some animations</span>
		<span class="keyword">if</span>(<span class="variable">stack</span>.<span class="variable">length</span> &<span class="variable">gt</span>; <span class="number integer">0</span>) {
			<span class="comment">// Check if the first one is not running</span>
			<span class="keyword">if</span>(<span class="variable">stack</span>[<span class="number integer">0</span>].<span class="variable">running</span> === <span class="variable">false</span>) {
				<span class="comment">// It is not, we need to animate it, so copy the first stack into a</span>
				<span class="variable">a</span> = <span class="variable">stack</span>[<span class="number integer">0</span>];
				
				<span class="comment">// Set running to true</span>
				<span class="variable">a</span>.<span class="variable">running</span> = <span class="variable">true</span>;
				
				<span class="comment">// Loop through the animations</span>
				<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">to</span>, <span class="variable">name</span>) {
					<span class="comment">// If to is a function, run it</span>
					<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">to</span> === <span class="string">'function'</span>) {
						<span class="variable">to</span> = <span class="variable">to</span>();
					}
					
					<span class="comment">// Get the unit</span>
					<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">to</span> === <span class="string">'string'</span>) {
						<span class="variable">unit</span> = <span class="variable">to</span>.<span class="variable">replace</span>(<span class="variable">notUnit</span>, <span class="string">''</span>);
					}
					<span class="keyword">else</span> {
						<span class="variable">unit</span> = <span class="number integer">0</span>;
					}
					
					<span class="keyword">if</span>(<span class="variable">to</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
						<span class="comment">// Get the from value</span>
						<span class="variable">from</span> = <span class="variable">that</span>.<span class="variable">color</span>.<span class="variable">toArray</span>(<span class="variable">element</span>.<span class="variable">style</span>(<span class="variable">name</span>));
						
						<span class="comment">// Work out the difference</span>
						<span class="variable">difference</span> = [
							<span class="variable">to</span>[<span class="number integer">0</span>] - <span class="variable">from</span>[<span class="number integer">0</span>],
							<span class="variable">to</span>[<span class="number integer">1</span>] - <span class="variable">from</span>[<span class="number integer">1</span>],
							<span class="variable">to</span>[<span class="number integer">2</span>] - <span class="variable">from</span>[<span class="number integer">2</span>]
						];
					}
					<span class="keyword">else</span> {
						<span class="comment">// Get the from value</span>
						<span class="variable">from</span> = <span class="variable">parseFloat</span>(<span class="variable">element</span>.<span class="variable">style</span>(<span class="variable">name</span>));
						
						<span class="comment">// Get the to value</span>
						<span class="variable">to</span> = <span class="variable">parseFloat</span>(<span class="variable">to</span>);
						
						<span class="comment">// Work out the difference</span>
						<span class="variable">difference</span> = <span class="variable">to</span> - <span class="variable">from</span>;
					}
					
					<span class="comment">// Loop over all frames</span>
					<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">1</span>; <span class="variable">i</span> &<span class="variable">lt</span>;= <span class="variable">a</span>.<span class="variable">frames</span>; <span class="variable">i</span>++) {
						<span class="comment">// Work out the value</span>
						<span class="keyword">if</span>(<span class="variable">to</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
							<span class="variable">calculated</span> = <span class="variable">that</span>.<span class="variable">color</span>.<span class="variable">toRgb</span>([
								<span class="class">Math</span>.<span class="variable">floor</span>(<span class="variable">easingMethods</span>[<span class="variable">a</span>.<span class="variable">easing</span>](<span class="variable">i</span>, <span class="variable">from</span>[<span class="number integer">0</span>], <span class="variable">difference</span>[<span class="number integer">0</span>], <span class="variable">a</span>.<span class="variable">frames</span>)),
								<span class="class">Math</span>.<span class="variable">floor</span>(<span class="variable">easingMethods</span>[<span class="variable">a</span>.<span class="variable">easing</span>](<span class="variable">i</span>, <span class="variable">from</span>[<span class="number integer">1</span>], <span class="variable">difference</span>[<span class="number integer">1</span>], <span class="variable">a</span>.<span class="variable">frames</span>)),
								<span class="class">Math</span>.<span class="variable">floor</span>(<span class="variable">easingMethods</span>[<span class="variable">a</span>.<span class="variable">easing</span>](<span class="variable">i</span>, <span class="variable">from</span>[<span class="number integer">2</span>], <span class="variable">difference</span>[<span class="number integer">2</span>], <span class="variable">a</span>.<span class="variable">frames</span>))
							]);
						}
						<span class="keyword">else</span> {
							<span class="variable">calculated</span> = <span class="variable">easingMethods</span>[<span class="variable">a</span>.<span class="variable">easing</span>](<span class="variable">i</span>, <span class="variable">from</span>, <span class="variable">difference</span>, <span class="variable">a</span>.<span class="variable">frames</span>) + <span class="variable">unit</span>;
						}
						
						<span class="variable">doFrame</span>(<span class="variable">element</span>, <span class="variable">name</span>, <span class="variable">calculated</span>, <span class="variable">i</span> * (<span class="number integer">1000</span> / <span class="variable">fps</span>));
					}
				}, <span class="variable">a</span>.<span class="variable">animations</span>);
				
				<span class="comment">// Run the last frame</span>
				<span class="variable">lastFrame</span>(<span class="variable">a</span>.<span class="variable">callback</span>, <span class="variable">element</span>, <span class="variable">a</span>.<span class="variable">timeframe</span>);
			}
		}
	}
	
	<span class="comment">// Convert colors to arrays</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">to</span>, <span class="variable">style</span>) {
		<span class="comment">// Check that it is a color</span>
		<span class="keyword">if</span>(<span class="variable">style</span>.<span class="variable">toLowerCase</span>().<span class="variable">indexOf</span>(<span class="string">'color'</span>) !== -<span class="number integer">1</span>) {
			<span class="comment">// Convert it to an array</span>
			<span class="variable">animations</span>[<span class="variable">style</span>] = <span class="variable">that</span>.<span class="variable">color</span>.<span class="variable">toArray</span>(<span class="variable">to</span>);
		}
	}, <span class="variable">animations</span>);
	
	<span class="comment">// Loop through all elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>, <span class="variable">count</span>) {
		<span class="comment">// Adopt the element into an instance</span>
		<span class="variable">element</span> = <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>);
		
		<span class="comment">// Make sure the element has an animations array</span>
		<span class="keyword">if</span>(<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>) === <span class="variable">false</span>) {
			<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>, []);
		}
		
		<span class="comment">// Make sure the element has a timeouts array</span>
		<span class="keyword">if</span>(<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>) === <span class="variable">false</span>) {
			<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>, []);
		}
		
		<span class="comment">// Get the timeframe with a default if required</span>
		<span class="variable">timeframe</span> = (<span class="variable">timeframe</span>) ? <span class="variable">timeframe</span> : <span class="number integer">600</span>;
		
		<span class="comment">// Push a new animation object into it</span>
		<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>).<span class="variable">push</span>({
			<span class="variable">animations</span>: <span class="variable">animations</span>,
			<span class="variable">timeframe</span>: <span class="variable">timeframe</span>,
			<span class="variable">frames</span>: <span class="variable">timeframe</span> <span class="regexp">/ (1000 /</span> <span class="variable">fps</span>),
			<span class="variable">easing</span>: (<span class="variable">easing</span>) ? <span class="variable">easing</span> : <span class="string">'outQuad'</span>,
			<span class="variable">callback</span>: (<span class="variable">callback</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">count</span> === <span class="variable">that</span>.<span class="variable">length</span> - <span class="number integer">1</span>) ? <span class="variable">callback</span> : <span class="variable">false</span>,
			<span class="variable">running</span>: <span class="variable">false</span>
		});
		
		<span class="comment">// Call the animate function and pass the element</span>
		<span class="variable">animate</span>(<span class="variable">element</span>);
	});
	
	<span class="comment">// Return the Spark object</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/appendElement.js"><a href="#">appendElement</a></h2></td><td>src/appendElement.js</td></tr><tr class="code">
<td class="docs">
<p>Inserts a new element after the specified elements</p>

<p>You can pass an already created element from the createElement function or pass the parameters for a new one. Like so.</p>

<pre><code>$('p').appendElement('p', 'Hello, World!', {
    class: 'someClass',
    title: 'Some title'
}, {
    'background-color': '#FF0000'
});</code></pre>

<p>Passing false for the html, attributes or styles will cause them to be ignored.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  name Name of the node you wish to create or an already created element</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  html The inner html of the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  attributes Attributes to assign to the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  styles Styles to assign to the element</p></li><li><p><strong>returns</strong>: <em>Object</em>  The Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'appendElement'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">el</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Check if we need to create the new element</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'string'</span>) {
		<span class="variable">el</span> = <span class="this">this</span>.<span class="variable">createElement</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>);
	}
	<span class="keyword">else</span> {
		<span class="variable">el</span> = <span class="variable">name</span>;
	}
	
	<span class="comment">// Loop through the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="variable">e</span>.<span class="variable">parentNode</span>.<span class="variable">insertBefore</span>(<span class="variable">el</span>.<span class="variable">cloneNode</span>(<span class="variable">true</span>), <span class="variable">e</span>.<span class="variable">nextSibling</span>);
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/attribute.js"><a href="#">attribute</a></h2></td><td>src/attribute.js</td></tr><tr class="code">
<td class="docs">
<p>The attribute function is used to get or set attributes.
It takes either one or two arguments, if you pass a name and a value like so.</p>

<pre><code>$('img').attribute('alt', 'An image');</code></pre>

<p>Then it will assign 'An image' to the alt attribute of all img tags on the page.</p>

<p>You can then retrieve the alt value of the first image on the page like so.</p>

<pre><code>$('img').attribute('alt');</code></pre>

<p>If you have multiple values to set then you can use an object like so.</p>

<pre><code>$('img').attribute({
    alt: 'An image',
    title: 'Image title'
});</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  name Either an object of attributes or the name of the required attribute</p></li><li><p><strong>param</strong>: <em>String</em>  value The value to assign to the name if you passed a string, if not passed then it returns the value of the previous name</p></li><li><p><strong>returns</strong>: <em>Object | String</em>  If you are setting it will return the Spark object for chaining, if you are getting then it will return the retrieved value</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'attribute'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">value</span>) {
	<span class="comment">// Set up that to put this in scope</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>;
	
	<span class="comment">// Check what kind of variable name is</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'string'</span>) {
		<span class="comment">// Check if they passed a value</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">value</span> === <span class="string">'string'</span>) {
			<span class="comment">// Loop through all elements and assign the attribute</span>
			<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
				<span class="variable">e</span>.<span class="variable">setAttribute</span>(<span class="variable">name</span>, <span class="variable">value</span>);
			});
		}
		<span class="keyword">else</span> {
			<span class="comment">// Make sure we have some elements</span>
			<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
				<span class="comment">// Get the attribute</span>
				<span class="keyword">return</span> <span class="this">this</span>[<span class="number integer">0</span>].<span class="variable">getAttribute</span>(<span class="variable">name</span>);
			}
			<span class="keyword">else</span> {
				<span class="comment">// Return false because we have no elements</span>
				<span class="keyword">return</span> <span class="variable">false</span>;
			}
		}
	}
	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'object'</span>) {
		<span class="comment">// Loop through all the attributes</span>
		<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">v</span>, <span class="variable">n</span>) {
			<span class="comment">// Loop through all elements and assign the attribute</span>
			<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
				<span class="variable">e</span>.<span class="variable">setAttribute</span>(<span class="variable">n</span>, <span class="variable">v</span>);
			});
		}, <span class="variable">name</span>);
	}
	
	<span class="comment">// Return the Spark object to allow chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/color.js"><a href="#">color</a></h2></td><td>src/color.js</td></tr><tr class="code">
<td class="docs">
<p>Converts colors to RGB or hex from RGB, hex or the color name</p>

<p>Simply run any of the functions (<code>toArray</code>, <code>toRgb</code>, <code>toHex</code> or <code>toName</code>) and pass it your color in any of the following formats.</p>

<ul><li>Array - <code>[25, 10, 255]</code></li><li>RGB - <code>rgb(25, 10, 255)</code></li><li>Hex - <code>#FFC609</code></li><li>Name - <code>red</code></li></ul>

<p>The method will then return the color converted to either an array, rgb, hex or its name equivilent depending on what method you ran.</p>

<p>You also have access to all of the colors and their values by name. For instance, the following code will return <code>[255, 0, 0]</code></p>

<pre><code>Spark.color.names.red;</code></pre>

<p>To then convert that into hex you would use the following line.</p>

<pre><code>Spark.color.toHex(Spark.color.names.red);</code></pre>

<p> </p>
</td>
<td class="code">

</td>
</tr>
<tr class="code">
<td class="docs">
<p>Converts any color to an array containing its rgb values</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Array</em>  color The color string to convert (RGB, hex or a color name such as 'red') or the RGB array</p></li><li><p><strong>returns</strong>: <em>Array</em>  The array containing the rgb values</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">toArray</span>: <span class="keyword">function</span>(<span class="variable">color</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>,
			<span class="variable">split</span> = [],
			<span class="variable">colors</span> = <span class="this">this</span>.<span class="variable">names</span>;
		
		<span class="keyword">if</span>(<span class="variable">color</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
			<span class="comment">// It is already an array, return it</span>
			<span class="keyword">return</span> <span class="variable">color</span>;
		}
		<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">color</span>.<span class="variable">indexOf</span>(<span class="string">'rgb'</span>) === <span class="number integer">0</span>) {
			<span class="comment">// It is RGB, take out the 'rgb(', ')' and spaces, split it by commas and assign it to split</span>
			<span class="variable">split</span> = <span class="variable">color</span>.<span class="variable">replace</span>(<span class="regexp">/rgb\(|\)|\s/gi</span>, <span class="string">''</span>).<span class="variable">split</span>(<span class="string">','</span>);
		}
		<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">color</span>.<span class="variable">indexOf</span>(<span class="string">'#'</span>) === <span class="number integer">0</span>) {
			<span class="comment">// It is hex, take off the hash</span>
			<span class="variable">color</span> = <span class="variable">color</span>.<span class="variable">slice</span>(<span class="number integer">1</span>);
			
			<span class="comment">// Convert it to the right length if it is the shorthand</span>
			<span class="keyword">if</span>(<span class="variable">color</span>.<span class="variable">length</span> === <span class="number integer">3</span>) {
				<span class="variable">color</span> = <span class="variable">color</span>.<span class="variable">replace</span>(<span class="regexp">/([0-9a-f])/ig</span>, <span class="string">'$1$1'</span>);
			}
			
			<span class="comment">// Split the string into its main components and convert them to RGB</span>
			<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="number integer">3</span>; <span class="variable">i</span>++) {
				<span class="variable">split</span>.<span class="variable">push</span>(<span class="variable">parseInt</span>(<span class="variable">color</span>.<span class="variable">slice</span>(<span class="variable">i</span> * <span class="number integer">2</span>, (<span class="variable">i</span> + <span class="number integer">1</span>) * <span class="number integer">2</span>), <span class="number integer">16</span>));
			}
		}
		<span class="keyword">else</span> {
			<span class="comment">// It is a name, loop through until we find it</span>
			<span class="keyword">for</span>(<span class="variable">i</span> <span class="keyword">in</span> <span class="variable">colors</span>) {
				<span class="keyword">if</span>(<span class="variable">colors</span>.<span class="variable">hasOwnProperty</span>(<span class="variable">i</span>) &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">i</span> === <span class="variable">color</span>.<span class="variable">toLowerCase</span>()) {
					<span class="comment">// Found it, assign the value to split. This has to be done like this so it returns a new array, not a reference</span>
					<span class="variable">split</span> = [<span class="variable">colors</span>[<span class="variable">i</span>][<span class="number integer">0</span>], <span class="variable">colors</span>[<span class="variable">i</span>][<span class="number integer">1</span>], <span class="variable">colors</span>[<span class="variable">i</span>][<span class="number integer">2</span>]];
				}
			}
		}
		
		<span class="comment">// Convert all colors to numbers</span>
		<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="number integer">3</span>; <span class="variable">i</span>++) {
			<span class="variable">split</span>[<span class="variable">i</span>] = <span class="variable">parseInt</span>(<span class="variable">split</span>[<span class="variable">i</span>], <span class="number integer">10</span>);
		}
		
		<span class="comment">// Return the color as an object</span>
		<span class="keyword">return</span> <span class="variable">split</span>;
	},</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Converts any color to a RGB string</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Array</em>  color The color string to convert (RGB, hex or a color name such as 'red') or the RGB array</p></li><li><p><strong>returns</strong>: <em>String</em>  The RGB string</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">toRgb</span>: <span class="keyword">function</span>(<span class="variable">color</span>) {
		<span class="comment">// Convert the color to an array and return the rgb version</span>
		<span class="keyword">return</span> <span class="string">'rgb('</span> + <span class="this">this</span>.<span class="variable">toArray</span>(<span class="variable">color</span>).<span class="variable">join</span>(<span class="string">', '</span>) + <span class="string">')'</span>;
	},</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Converts any color to a hex string</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Array</em>  color The color string to convert (RGB, hex or a color name such as 'red') or the RGB array</p></li><li><p><strong>returns</strong>: <em>String</em>  The hex string</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">toHex</span>: <span class="keyword">function</span>(<span class="variable">color</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>;
		
		<span class="comment">// Convert the color to an array</span>
		<span class="variable">color</span> = <span class="this">this</span>.<span class="variable">toArray</span>(<span class="variable">color</span>);
		
		<span class="comment">// Loop over the array</span>
		<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="number integer">3</span>; <span class="variable">i</span>++) {
			<span class="comment">// Convert it to hex</span>
			<span class="variable">color</span>[<span class="variable">i</span>] = <span class="variable">color</span>[<span class="variable">i</span>].<span class="variable">toString</span>(<span class="number integer">16</span>).<span class="variable">toUpperCase</span>();
			
			<span class="comment">// Make sure it is always the right length</span>
			<span class="keyword">if</span>(<span class="variable">color</span>[<span class="variable">i</span>].<span class="variable">length</span> === <span class="number integer">1</span>) {
				<span class="variable">color</span>[<span class="variable">i</span>] = <span class="variable">color</span>[<span class="variable">i</span>] + <span class="variable">color</span>[<span class="variable">i</span>];
			}
		}
		
		<span class="comment">// Return the joined version</span>
		<span class="keyword">return</span> <span class="string">'#'</span> + <span class="variable">color</span>.<span class="variable">join</span>(<span class="string">''</span>);
	},</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Converts any color to its name equivilant, if there is not a name for it then it will return false</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Array</em>  color The color string to convert (RGB, hex or a color name such as 'red') or the RGB array</p></li><li><p><strong>returns</strong>: <em>String | Boolean</em>  The name of the color or false if there is not a name for it</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">toName</span>: <span class="keyword">function</span>(<span class="variable">color</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>,
			<span class="variable">colors</span> = <span class="this">this</span>.<span class="variable">names</span>;
		
		<span class="comment">// Convert it to an array</span>
		<span class="variable">color</span> = <span class="this">this</span>.<span class="variable">toArray</span>(<span class="variable">color</span>);
		
		<span class="comment">// Loop through all of the names</span>
		<span class="keyword">for</span>(<span class="variable">i</span> <span class="keyword">in</span> <span class="variable">colors</span>) {
			<span class="keyword">if</span>(<span class="variable">colors</span>.<span class="variable">hasOwnProperty</span>(<span class="variable">i</span>)) {
				<span class="comment">// Compare</span>
				<span class="keyword">if</span>(<span class="variable">color</span>[<span class="number integer">0</span>] === <span class="variable">colors</span>[<span class="variable">i</span>][<span class="number integer">0</span>] &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">color</span>[<span class="number integer">1</span>] === <span class="variable">colors</span>[<span class="variable">i</span>][<span class="number integer">1</span>] &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">color</span>[<span class="number integer">2</span>] === <span class="variable">colors</span>[<span class="variable">i</span>][<span class="number integer">2</span>]) {
					<span class="comment">// Found it, return the name</span>
					<span class="keyword">return</span> <span class="variable">i</span>;
				}
			}
		}
		
		<span class="comment">// Did not find a name, return false</span>
		<span class="keyword">return</span> <span class="variable">false</span>;
	},
	
	<span class="variable">names</span>: {
		<span class="variable">aliceblue</span>: [<span class="number integer">240</span>, <span class="number integer">248</span>, <span class="number integer">255</span>],
		<span class="variable">antiquewhite</span>: [<span class="number integer">250</span>, <span class="number integer">235</span>, <span class="number integer">215</span>],
		<span class="variable">aqua</span>: [<span class="number integer">0</span>, <span class="number integer">255</span>, <span class="number integer">255</span>],
		<span class="variable">aquamarine</span>: [<span class="number integer">127</span>, <span class="number integer">255</span>, <span class="number integer">212</span>],
		<span class="variable">azure</span>: [<span class="number integer">240</span>, <span class="number integer">255</span>, <span class="number integer">255</span>],
		<span class="variable">beige</span>: [<span class="number integer">245</span>, <span class="number integer">245</span>, <span class="number integer">220</span>],
		<span class="variable">bisque</span>: [<span class="number integer">255</span>, <span class="number integer">228</span>, <span class="number integer">196</span>],
		<span class="variable">black</span>: [<span class="number integer">0</span>, <span class="number integer">0</span>, <span class="number integer">0</span>],
		<span class="variable">blanchedalmond</span>: [<span class="number integer">255</span>, <span class="number integer">235</span>, <span class="number integer">205</span>],
		<span class="variable">blue</span>: [<span class="number integer">0</span>, <span class="number integer">0</span>, <span class="number integer">255</span>],
		<span class="variable">blueviolet</span>: [<span class="number integer">138</span>, <span class="number integer">43</span>, <span class="number integer">226</span>],
		<span class="variable">brown</span>: [<span class="number integer">165</span>, <span class="number integer">42</span>, <span class="number integer">42</span>],
		<span class="variable">burlywood</span>: [<span class="number integer">222</span>, <span class="number integer">184</span>, <span class="number integer">135</span>],
		<span class="variable">cadetblue</span>: [<span class="number integer">95</span>, <span class="number integer">158</span>, <span class="number integer">160</span>],
		<span class="variable">chartreuse</span>: [<span class="number integer">127</span>, <span class="number integer">255</span>, <span class="number integer">0</span>],
		<span class="variable">chocolate</span>: [<span class="number integer">210</span>, <span class="number integer">105</span>, <span class="number integer">30</span>],
		<span class="variable">coral</span>: [<span class="number integer">255</span>, <span class="number integer">127</span>, <span class="number integer">80</span>],
		<span class="variable">cornflowerblue</span>: [<span class="number integer">100</span>, <span class="number integer">149</span>, <span class="number integer">237</span>],
		<span class="variable">cornsilk</span>: [<span class="number integer">255</span>, <span class="number integer">248</span>, <span class="number integer">220</span>],
		<span class="variable">crimson</span>: [<span class="number integer">220</span>, <span class="number integer">20</span>, <span class="number integer">60</span>],
		<span class="variable">cyan</span>: [<span class="number integer">0</span>, <span class="number integer">255</span>, <span class="number integer">255</span>],
		<span class="variable">darkblue</span>: [<span class="number integer">0</span>, <span class="number integer">0</span>, <span class="number integer">139</span>],
		<span class="variable">darkcyan</span>: [<span class="number integer">0</span>, <span class="number integer">139</span>, <span class="number integer">139</span>],
		<span class="variable">darkgoldenrod</span>: [<span class="number integer">184</span>, <span class="number integer">134</span>, <span class="number integer">11</span>],
		<span class="variable">darkgray</span>: [<span class="number integer">169</span>, <span class="number integer">169</span>, <span class="number integer">169</span>],
		<span class="variable">darkgreen</span>: [<span class="number integer">0</span>, <span class="number integer">100</span>, <span class="number integer">0</span>],
		<span class="variable">darkgrey</span>: [<span class="number integer">169</span>, <span class="number integer">169</span>, <span class="number integer">169</span>],
		<span class="variable">darkkhaki</span>: [<span class="number integer">189</span>, <span class="number integer">183</span>, <span class="number integer">107</span>],
		<span class="variable">darkmagenta</span>: [<span class="number integer">139</span>, <span class="number integer">0</span>, <span class="number integer">139</span>],
		<span class="variable">darkolivegreen</span>: [<span class="number integer">85</span>, <span class="number integer">107</span>, <span class="number integer">47</span>],
		<span class="variable">darkorange</span>: [<span class="number integer">255</span>, <span class="number integer">140</span>, <span class="number integer">0</span>],
		<span class="variable">darkorchid</span>: [<span class="number integer">153</span>, <span class="number integer">50</span>, <span class="number integer">204</span>],
		<span class="variable">darkred</span>: [<span class="number integer">139</span>, <span class="number integer">0</span>, <span class="number integer">0</span>],
		<span class="variable">darksalmon</span>: [<span class="number integer">233</span>, <span class="number integer">150</span>, <span class="number integer">122</span>],
		<span class="variable">darkseagreen</span>: [<span class="number integer">143</span>, <span class="number integer">188</span>, <span class="number integer">143</span>],
		<span class="variable">darkslateblue</span>: [<span class="number integer">72</span>, <span class="number integer">61</span>, <span class="number integer">139</span>],
		<span class="variable">darkslategray</span>: [<span class="number integer">47</span>, <span class="number integer">79</span>, <span class="number integer">79</span>],
		<span class="variable">darkslategrey</span>: [<span class="number integer">47</span>, <span class="number integer">79</span>, <span class="number integer">79</span>],
		<span class="variable">darkturquoise</span>: [<span class="number integer">0</span>, <span class="number integer">206</span>, <span class="number integer">209</span>],
		<span class="variable">darkviolet</span>: [<span class="number integer">148</span>, <span class="number integer">0</span>, <span class="number integer">211</span>],
		<span class="variable">deeppink</span>: [<span class="number integer">255</span>, <span class="number integer">20</span>, <span class="number integer">147</span>],
		<span class="variable">deepskyblue</span>: [<span class="number integer">0</span>, <span class="number integer">191</span>, <span class="number integer">255</span>],
		<span class="variable">dimgray</span>: [<span class="number integer">105</span>, <span class="number integer">105</span>, <span class="number integer">105</span>],
		<span class="variable">dimgrey</span>: [<span class="number integer">105</span>, <span class="number integer">105</span>, <span class="number integer">105</span>],
		<span class="variable">dodgerblue</span>: [<span class="number integer">30</span>, <span class="number integer">144</span>, <span class="number integer">255</span>],
		<span class="variable">firebrick</span>: [<span class="number integer">178</span>, <span class="number integer">34</span>, <span class="number integer">34</span>],
		<span class="variable">floralwhite</span>: [<span class="number integer">255</span>, <span class="number integer">250</span>, <span class="number integer">240</span>],
		<span class="variable">forestgreen</span>: [<span class="number integer">34</span>, <span class="number integer">139</span>, <span class="number integer">34</span>],
		<span class="variable">fuchsia</span>: [<span class="number integer">255</span>, <span class="number integer">0</span>, <span class="number integer">255</span>],
		<span class="variable">gainsboro</span>: [<span class="number integer">220</span>, <span class="number integer">220</span>, <span class="number integer">220</span>],
		<span class="variable">ghostwhite</span>: [<span class="number integer">248</span>, <span class="number integer">248</span>, <span class="number integer">255</span>],
		<span class="variable">gold</span>: [<span class="number integer">255</span>, <span class="number integer">215</span>, <span class="number integer">0</span>],
		<span class="variable">goldenrod</span>: [<span class="number integer">218</span>, <span class="number integer">165</span>, <span class="number integer">32</span>],
		<span class="variable">gray</span>: [<span class="number integer">128</span>, <span class="number integer">128</span>, <span class="number integer">128</span>],
		<span class="variable">green</span>: [<span class="number integer">0</span>, <span class="number integer">128</span>, <span class="number integer">0</span>],
		<span class="variable">greenyellow</span>: [<span class="number integer">173</span>, <span class="number integer">255</span>, <span class="number integer">47</span>],
		<span class="variable">grey</span>: [<span class="number integer">128</span>, <span class="number integer">128</span>, <span class="number integer">128</span>],
		<span class="variable">honeydew</span>: [<span class="number integer">240</span>, <span class="number integer">255</span>, <span class="number integer">240</span>],
		<span class="variable">hotpink</span>: [<span class="number integer">255</span>, <span class="number integer">105</span>, <span class="number integer">180</span>],
		<span class="variable">indianred</span>: [<span class="number integer">205</span>, <span class="number integer">92</span>, <span class="number integer">92</span>],
		<span class="variable">indigo</span>: [<span class="number integer">75</span>, <span class="number integer">0</span>, <span class="number integer">130</span>],
		<span class="variable">ivory</span>: [<span class="number integer">255</span>, <span class="number integer">255</span>, <span class="number integer">240</span>],
		<span class="variable">khaki</span>: [<span class="number integer">240</span>, <span class="number integer">230</span>, <span class="number integer">140</span>],
		<span class="variable">lavender</span>: [<span class="number integer">230</span>, <span class="number integer">230</span>, <span class="number integer">250</span>],
		<span class="variable">lavenderblush</span>: [<span class="number integer">255</span>, <span class="number integer">240</span>, <span class="number integer">245</span>],
		<span class="variable">lawngreen</span>: [<span class="number integer">124</span>, <span class="number integer">252</span>, <span class="number integer">0</span>],
		<span class="variable">lemonchiffon</span>: [<span class="number integer">255</span>, <span class="number integer">250</span>, <span class="number integer">205</span>],
		<span class="variable">lightblue</span>: [<span class="number integer">173</span>, <span class="number integer">216</span>, <span class="number integer">230</span>],
		<span class="variable">lightcoral</span>: [<span class="number integer">240</span>, <span class="number integer">128</span>, <span class="number integer">128</span>],
		<span class="variable">lightcyan</span>: [<span class="number integer">224</span>, <span class="number integer">255</span>, <span class="number integer">255</span>],
		<span class="variable">lightgoldenrodyellow</span>: [<span class="number integer">250</span>, <span class="number integer">250</span>, <span class="number integer">210</span>],
		<span class="variable">lightgray</span>: [<span class="number integer">211</span>, <span class="number integer">211</span>, <span class="number integer">211</span>],
		<span class="variable">lightgreen</span>: [<span class="number integer">144</span>, <span class="number integer">238</span>, <span class="number integer">144</span>],
		<span class="variable">lightgrey</span>: [<span class="number integer">211</span>, <span class="number integer">211</span>, <span class="number integer">211</span>],
		<span class="variable">lightpink</span>: [<span class="number integer">255</span>, <span class="number integer">182</span>, <span class="number integer">193</span>],
		<span class="variable">lightsalmon</span>: [<span class="number integer">255</span>, <span class="number integer">160</span>, <span class="number integer">122</span>],
		<span class="variable">lightseagreen</span>: [<span class="number integer">32</span>, <span class="number integer">178</span>, <span class="number integer">170</span>],
		<span class="variable">lightskyblue</span>: [<span class="number integer">135</span>, <span class="number integer">206</span>, <span class="number integer">250</span>],
		<span class="variable">lightslategray</span>: [<span class="number integer">119</span>, <span class="number integer">136</span>, <span class="number integer">153</span>],
		<span class="variable">lightslategrey</span>: [<span class="number integer">119</span>, <span class="number integer">136</span>, <span class="number integer">153</span>],
		<span class="variable">lightsteelblue</span>: [<span class="number integer">176</span>, <span class="number integer">196</span>, <span class="number integer">222</span>],
		<span class="variable">lightyellow</span>: [<span class="number integer">255</span>, <span class="number integer">255</span>, <span class="number integer">224</span>],
		<span class="variable">lime</span>: [<span class="number integer">0</span>, <span class="number integer">255</span>, <span class="number integer">0</span>],
		<span class="variable">limegreen</span>: [<span class="number integer">50</span>, <span class="number integer">205</span>, <span class="number integer">50</span>],
		<span class="variable">linen</span>: [<span class="number integer">250</span>, <span class="number integer">240</span>, <span class="number integer">230</span>],
		<span class="variable">magenta</span>: [<span class="number integer">255</span>, <span class="number integer">0</span>, <span class="number integer">255</span>],
		<span class="variable">maroon</span>: [<span class="number integer">128</span>, <span class="number integer">0</span>, <span class="number integer">0</span>],
		<span class="variable">mediumaquamarine</span>: [<span class="number integer">102</span>, <span class="number integer">205</span>, <span class="number integer">170</span>],
		<span class="variable">mediumblue</span>: [<span class="number integer">0</span>, <span class="number integer">0</span>, <span class="number integer">205</span>],
		<span class="variable">mediumorchid</span>: [<span class="number integer">186</span>, <span class="number integer">85</span>, <span class="number integer">211</span>],
		<span class="variable">mediumpurple</span>: [<span class="number integer">147</span>, <span class="number integer">112</span>, <span class="number integer">216</span>],
		<span class="variable">mediumseagreen</span>: [<span class="number integer">60</span>, <span class="number integer">179</span>, <span class="number integer">113</span>],
		<span class="variable">mediumslateblue</span>: [<span class="number integer">123</span>, <span class="number integer">104</span>, <span class="number integer">238</span>],
		<span class="variable">mediumspringgreen</span>: [<span class="number integer">0</span>, <span class="number integer">250</span>, <span class="number integer">154</span>],
		<span class="variable">mediumturquoise</span>: [<span class="number integer">72</span>, <span class="number integer">209</span>, <span class="number integer">204</span>],
		<span class="variable">mediumvioletred</span>: [<span class="number integer">199</span>, <span class="number integer">21</span>, <span class="number integer">133</span>],
		<span class="variable">midnightblue</span>: [<span class="number integer">25</span>, <span class="number integer">25</span>, <span class="number integer">112</span>],
		<span class="variable">mintcream</span>: [<span class="number integer">245</span>, <span class="number integer">255</span>, <span class="number integer">250</span>],
		<span class="variable">mistyrose</span>: [<span class="number integer">255</span>, <span class="number integer">228</span>, <span class="number integer">225</span>],
		<span class="variable">moccasin</span>: [<span class="number integer">255</span>, <span class="number integer">228</span>, <span class="number integer">181</span>],
		<span class="variable">navajowhite</span>: [<span class="number integer">255</span>, <span class="number integer">222</span>, <span class="number integer">173</span>],
		<span class="variable">navy</span>: [<span class="number integer">0</span>, <span class="number integer">0</span>, <span class="number integer">128</span>],
		<span class="variable">oldlace</span>: [<span class="number integer">253</span>, <span class="number integer">245</span>, <span class="number integer">230</span>],
		<span class="variable">olive</span>: [<span class="number integer">128</span>, <span class="number integer">128</span>, <span class="number integer">0</span>],
		<span class="variable">olivedrab</span>: [<span class="number integer">107</span>, <span class="number integer">142</span>, <span class="number integer">35</span>],
		<span class="variable">orange</span>: [<span class="number integer">255</span>, <span class="number integer">165</span>, <span class="number integer">0</span>],
		<span class="variable">orangered</span>: [<span class="number integer">255</span>, <span class="number integer">69</span>, <span class="number integer">0</span>],
		<span class="variable">orchid</span>: [<span class="number integer">218</span>, <span class="number integer">112</span>, <span class="number integer">214</span>],
		<span class="variable">palegoldenrod</span>: [<span class="number integer">238</span>, <span class="number integer">232</span>, <span class="number integer">170</span>],
		<span class="variable">palegreen</span>: [<span class="number integer">152</span>, <span class="number integer">251</span>, <span class="number integer">152</span>],
		<span class="variable">paleturquoise</span>: [<span class="number integer">175</span>, <span class="number integer">238</span>, <span class="number integer">238</span>],
		<span class="variable">palevioletred</span>: [<span class="number integer">216</span>, <span class="number integer">112</span>, <span class="number integer">147</span>],
		<span class="variable">papayawhip</span>: [<span class="number integer">255</span>, <span class="number integer">239</span>, <span class="number integer">213</span>],
		<span class="variable">peachpuff</span>: [<span class="number integer">255</span>, <span class="number integer">218</span>, <span class="number integer">185</span>],
		<span class="variable">peru</span>: [<span class="number integer">205</span>, <span class="number integer">133</span>, <span class="number integer">63</span>],
		<span class="variable">pink</span>: [<span class="number integer">255</span>, <span class="number integer">192</span>, <span class="number integer">203</span>],
		<span class="variable">plum</span>: [<span class="number integer">221</span>, <span class="number integer">160</span>, <span class="number integer">221</span>],
		<span class="variable">powderblue</span>: [<span class="number integer">176</span>, <span class="number integer">224</span>, <span class="number integer">230</span>],
		<span class="variable">purple</span>: [<span class="number integer">128</span>, <span class="number integer">0</span>, <span class="number integer">128</span>],
		<span class="variable">red</span>: [<span class="number integer">255</span>, <span class="number integer">0</span>, <span class="number integer">0</span>],
		<span class="variable">rosybrown</span>: [<span class="number integer">188</span>, <span class="number integer">143</span>, <span class="number integer">143</span>],
		<span class="variable">royalblue</span>: [<span class="number integer">65</span>, <span class="number integer">105</span>, <span class="number integer">225</span>],
		<span class="variable">saddlebrown</span>: [<span class="number integer">139</span>, <span class="number integer">69</span>, <span class="number integer">19</span>],
		<span class="variable">salmon</span>: [<span class="number integer">250</span>, <span class="number integer">128</span>, <span class="number integer">114</span>],
		<span class="variable">sandybrown</span>: [<span class="number integer">244</span>, <span class="number integer">164</span>, <span class="number integer">96</span>],
		<span class="variable">seagreen</span>: [<span class="number integer">46</span>, <span class="number integer">139</span>, <span class="number integer">87</span>],
		<span class="variable">seashell</span>: [<span class="number integer">255</span>, <span class="number integer">245</span>, <span class="number integer">238</span>],
		<span class="variable">sienna</span>: [<span class="number integer">160</span>, <span class="number integer">82</span>, <span class="number integer">45</span>],
		<span class="variable">silver</span>: [<span class="number integer">192</span>, <span class="number integer">192</span>, <span class="number integer">192</span>],
		<span class="variable">skyblue</span>: [<span class="number integer">135</span>, <span class="number integer">206</span>, <span class="number integer">235</span>],
		<span class="variable">slateblue</span>: [<span class="number integer">106</span>, <span class="number integer">90</span>, <span class="number integer">205</span>],
		<span class="variable">slategray</span>: [<span class="number integer">112</span>, <span class="number integer">128</span>, <span class="number integer">144</span>],
		<span class="variable">slategrey</span>: [<span class="number integer">112</span>, <span class="number integer">128</span>, <span class="number integer">144</span>],
		<span class="variable">snow</span>: [<span class="number integer">255</span>, <span class="number integer">250</span>, <span class="number integer">250</span>],
		<span class="variable">springgreen</span>: [<span class="number integer">0</span>, <span class="number integer">255</span>, <span class="number integer">127</span>],
		<span class="variable">steelblue</span>: [<span class="number integer">70</span>, <span class="number integer">130</span>, <span class="number integer">180</span>],
		<span class="variable">tan</span>: [<span class="number integer">210</span>, <span class="number integer">180</span>, <span class="number integer">140</span>],
		<span class="variable">teal</span>: [<span class="number integer">0</span>, <span class="number integer">128</span>, <span class="number integer">128</span>],
		<span class="variable">tle</span>: [<span class="number integer">216</span>, <span class="number integer">191</span>, <span class="number integer">216</span>],
		<span class="variable">tomato</span>: [<span class="number integer">255</span>, <span class="number integer">99</span>, <span class="number integer">71</span>],
		<span class="variable">turquoise</span>: [<span class="number integer">64</span>, <span class="number integer">224</span>, <span class="number integer">208</span>],
		<span class="variable">violet</span>: [<span class="number integer">238</span>, <span class="number integer">130</span>, <span class="number integer">238</span>],
		<span class="variable">wheat</span>: [<span class="number integer">245</span>, <span class="number integer">222</span>, <span class="number integer">179</span>],
		<span class="variable">white</span>: [<span class="number integer">255</span>, <span class="number integer">255</span>, <span class="number integer">255</span>],
		<span class="variable">whitesmoke</span>: [<span class="number integer">245</span>, <span class="number integer">245</span>, <span class="number integer">245</span>],
		<span class="variable">yellow</span>: [<span class="number integer">255</span>, <span class="number integer">255</span>, <span class="number integer">0</span>],
		<span class="variable">yellowgreen</span>: [<span class="number integer">154</span>, <span class="number integer">205</span>, <span class="number integer">50</span>]
	}
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/cookie.js"><a href="#">cookie</a></h2></td><td>src/cookie.js</td></tr><tr class="code">
<td class="docs">
<p>The cookie function is used to set or get cookies. To get the contents of a cookie simply call the function and provide the name of the cookie you wish to get the contents of. For example.</p>

<pre><code>// Returns the content of the cookie 'foo'
Spark.cookie('foo');</code></pre>

<p>To set a cookie you just have to pass some content along with a name, like so.</p>

<pre><code>// Sets the cookie 'foo' to 'bar'
Spark.cookie('foo', 'bar');</code></pre>

<p>You can also provide an optional duration which is how long the cookie should last for in milliseconds. If you do not provide a duration it will expire when the session ends. Say you wanted to set the previous cookie and make it last for five seconds, you would use the following line.</p>

<pre><code>// Sets a cookie that lasts five seconds
Spark.cookie('foo', 'bar', 5000);</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  name The name of the cookie you wish to get or set</p></li><li><p><strong>param</strong>: <em>String</em>  content If passed the cookie will be set with this as it's content</p></li><li><p><strong>param</strong>: <em>Number</em>  duration The amount of milliseconds you wish the cookie to last for, if not set then it will last for the session</p></li><li><p><strong>returns</strong>: <em>String</em>  The content of the cookie who's name you specified</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'cookie'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">content</span>, <span class="variable">duration</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">cookies</span> = <span class="variable">document</span>.<span class="variable">cookie</span>.<span class="variable">split</span>(<span class="string">';'</span>),
		<span class="variable">i</span> = <span class="keyword">null</span>,
		<span class="variable">cookie</span> = <span class="keyword">null</span>,
		<span class="variable">date</span> = <span class="keyword">new</span> <span class="class">Date</span>();
	
	<span class="comment">// Check if we need to get or set</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">content</span> === <span class="string">'undefined'</span>) {
		<span class="comment">// Get the cookie</span>
		<span class="comment">// Loop through all the cookies</span>
		<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="variable">cookies</span>.<span class="variable">length</span>; <span class="variable">i</span>++) {
			<span class="comment">// Grab the current cookie and trim any whitespace</span>
			<span class="variable">cookie</span> = <span class="variable">cookies</span>[<span class="variable">i</span>].<span class="variable">replace</span>(<span class="regexp">/^\s+/g</span>, <span class="string">''</span>);
			
			<span class="comment">// Check if the cookie contains the name</span>
			<span class="keyword">if</span>(<span class="variable">cookie</span>.<span class="variable">indexOf</span>(<span class="variable">name</span> + <span class="string">'='</span>) === <span class="number integer">0</span>) {
				<span class="keyword">return</span> <span class="variable">cookie</span>.<span class="variable">substring</span>(<span class="variable">name</span>.<span class="variable">length</span> + <span class="number integer">1</span>, <span class="variable">cookie</span>.<span class="variable">length</span>);
			}
		}
		
		<span class="comment">// Return false if we did not find it</span>
		<span class="keyword">return</span> <span class="variable">false</span>;
	}
	<span class="keyword">else</span> {
		<span class="comment">// Set the cookie</span>
		<span class="comment">// Check for a passed duration</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">duration</span> !== <span class="string">'undefined'</span>) {
			<span class="comment">// Add on the duration</span>
			<span class="variable">date</span>.<span class="variable">setTime</span>(<span class="variable">date</span>.<span class="variable">getTime</span>() + <span class="variable">duration</span>);
			<span class="variable">expires</span> = <span class="string">'; expires='</span> + <span class="variable">date</span>.<span class="variable">toGMTString</span>();
		}
		<span class="keyword">else</span> {
			<span class="comment">// Otherwise set the expires to nothing</span>
			<span class="variable">expires</span> = <span class="string">''</span>;
		}
		
		<span class="comment">// Set the cookie</span>
		<span class="variable">document</span>.<span class="variable">cookie</span> = <span class="variable">name</span> + <span class="string">'='</span> + <span class="variable">escape</span>(<span class="variable">content</span>) + <span class="variable">expires</span> + <span class="string">'; path=/'</span>;
	}
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/core.js"><a href="#">core</a></h2></td><td>src/core.js</td></tr><tr class="code">
<td class="docs">
<ul><li><strong>preserve</strong>: <em>Spark</em>
JavaScript Library v3.0.0
http://sparkjs.co.uk/</li></ul>

<p>Copyright 2011, Oliver Caldwell
Dual licensed under the MIT or GPL Version 2 licenses.
http://sparkjs.co.uk/licence.html
 </p>
</td>
<td class="code">
<pre><code><span class="keyword">var</span> <span class="class">Spark</span> = (<span class="keyword">function</span>() {
	<span class="comment">// Create the object</span>
	<span class="keyword">function</span> <span class="class">Spark</span>(){}</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Adds a variable to Spark's prototype.
This is used to extend Spark with plugins.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  name Name you wish to add your variable under</p></li><li><p><strong>param</strong>: <em>Mixed</em>  toAdd Variable you wish to add</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">prototype</span>.<span class="variable">extend</span> = <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">toAdd</span>) {
		<span class="comment">// Add the object</span>
		<span class="class">Spark</span>.<span class="variable">prototype</span>[<span class="variable">name</span>] = <span class="variable">toAdd</span>;
		
		<span class="comment">// If the object is actually an object, then assign the Spark instance to it</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">toAdd</span> === <span class="string">'object'</span>) {
			<span class="variable">toAdd</span>.<span class="variable">instance</span> = <span class="this">this</span>;
		}
	};</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Create a clone of the object. This should be done when anything is being stored in it for chaining.
Otherwise added variables will be there for ever.
This way they only exist within that chain.</p>

<h2></h2>

<ul><li><p><strong>returns</strong>: <em>Object</em>  The copy of the object</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">prototype</span>.<span class="variable">clone</span> = <span class="keyword">function</span>() {
		<span class="keyword">return</span> <span class="keyword">new</span> <span class="class">Spark</span>();
	};</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/createElement.js"><a href="#">createElement</a></h2></td><td>src/createElement.js</td></tr><tr class="code">
<td class="docs">
<p>Creates an element from the passed parameters</p>

<p>To create a basic element such as a p tag, all you need to provide is a tag name.</p>

<pre><code>Spark.createElement('p');</code></pre>

<p>And the new p tag object will be returned.</p>

<p>If you wanted to assign a class and title to this element, you pass the attribute assigning object as the second argument.</p>

<pre><code>Spark.createElement('p', {
    class: 'someClass',
    title: 'Some title'
});</code></pre>

<p>You can also style the element with the third argument.</p>

<pre><code>Spark.createElement('p', {
    class: 'someClass',
    title: 'Some title'
}, {
    'background-color': '#FF0000'
});</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  name Name of the node you wish to create</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  html The inner html of the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  attributes Attributes to assign to the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  styles Styles to assign to the element</p></li><li><p><strong>returns</strong>: <em>Object</em>  The created element</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'createElement'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>) {
	<span class="comment">// Create the new element</span>
	<span class="keyword">var</span> <span class="variable">built</span> = <span class="variable">document</span>.<span class="variable">createElement</span>(<span class="variable">name</span>);
	
	<span class="comment">// Assign the inner html if required</span>
	<span class="keyword">if</span>(<span class="variable">html</span>) {
		<span class="variable">built</span>.<span class="variable">innerHTML</span> = <span class="variable">html</span>;
	}
	
	<span class="comment">// Assign the attributes if required</span>
	<span class="keyword">if</span>(<span class="variable">attributes</span>) {
		<span class="this">this</span>.<span class="variable">find</span>(<span class="variable">built</span>).<span class="variable">attribute</span>(<span class="variable">attributes</span>);
	}
	
	<span class="comment">// Assign the styles if required</span>
	<span class="keyword">if</span>(<span class="variable">styles</span>) {
		<span class="this">this</span>.<span class="variable">find</span>(<span class="variable">built</span>).<span class="variable">style</span>(<span class="variable">styles</span>);
	}
	
	<span class="comment">// Return the built element</span>
	<span class="keyword">return</span> <span class="variable">built</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/data.js"><a href="#">data</a></h2></td><td>src/data.js</td></tr><tr class="code">
<td class="docs">
<p>The data function assigns data to the first element returned by find. It does not add anything to the actual element object but stores references in keys.
To assign data to an element simply select an element and call the data function with the name and data arguments, like so.</p>

<pre><code>// You can use the Spark.find(...) or $(...)
// $ is just an alias
$('p').data('foo', 'bar');</code></pre>

<p>You can retrieve that data by using the same line, just without the data you wish to assign. The function either returns the assigned data or false if something is not found.</p>

<pre><code>$('p').data('foo'); // Returns 'bar'</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  name The name of the data you wish to get or set</p></li><li><p><strong>param</strong>: <em>Mixed</em>  data The data you wish to assign, if not provided then the data is returned</p></li><li><p><strong>returns</strong>: <em>Mixed</em>  If it fails, it will return false, if it succeeds it will return the Spark object for chaining. If it succeeds in finding data it will return that data</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'data'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">data</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>,
		<span class="variable">e</span> = <span class="keyword">null</span>,
		<span class="variable">target</span> = <span class="keyword">null</span>,
		<span class="variable">found</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Check that we have an element to work with</span>
	<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">elements</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
		<span class="comment">// Make sure we have some elements</span>
		<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
			<span class="comment">// Grab the element</span>
			<span class="variable">e</span> = <span class="this">this</span>.<span class="variable">elements</span>[<span class="number integer">0</span>];
			
			<span class="comment">// Start the target as false</span>
			<span class="variable">target</span> = -<span class="number integer">1</span>;
			
			<span class="comment">// Check if we can use indexOf</span>
			<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">keys</span>.<span class="variable">indexOf</span> !== <span class="string">'undefined'</span>) {
				<span class="variable">target</span> = <span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">keys</span>.<span class="variable">indexOf</span>(<span class="variable">e</span>);
			}
			<span class="keyword">else</span> {
				<span class="comment">// Loop through all of the keys checking for our element</span>
				<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">keys</span>.<span class="variable">length</span>; <span class="variable">i</span>++) {
					<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">keys</span>[<span class="variable">i</span>] === <span class="variable">e</span>) {
						<span class="comment">// Found it, assign it to the target</span>
						<span class="variable">target</span> = <span class="variable">i</span>;
					}
				}
			}
			
			<span class="comment">// Check if data was passed</span>
			<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">data</span> !== <span class="string">'undefined'</span>) {
				<span class="comment">// We have data</span>
				<span class="comment">// Check if we found an element</span>
				<span class="keyword">if</span>(<span class="variable">target</span> === -<span class="number integer">1</span>) {
					<span class="comment">// We did not, create it and set the target</span>
					<span class="variable">target</span> = <span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">keys</span>.<span class="variable">length</span>;
					<span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">keys</span>.<span class="variable">push</span>(<span class="variable">e</span>);
					<span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">data</span>.<span class="variable">push</span>({});
				}
				
				<span class="comment">// Assign the data</span>
				<span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">data</span>[<span class="variable">target</span>][<span class="variable">name</span>] = <span class="variable">data</span>;
				
				<span class="comment">// Return the Spark object to allow chaining</span>
				<span class="keyword">return</span> <span class="this">this</span>;
			}
			<span class="keyword">else</span> {
				<span class="comment">// We do not have data</span>
				<span class="comment">// Check if we found an element</span>
				<span class="keyword">if</span>(<span class="variable">target</span> === -<span class="number integer">1</span>) {
					<span class="comment">// We did not, return false</span>
					<span class="keyword">return</span> <span class="variable">false</span>;
				}
				
				<span class="comment">// We now return the found data</span>
				<span class="keyword">return</span> (<span class="keyword">typeof</span> <span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">data</span>[<span class="variable">target</span>][<span class="variable">name</span>] !== <span class="string">'undefined'</span>) ? <span class="this">this</span>.<span class="variable">dataMeta</span>.<span class="variable">data</span>[<span class="variable">target</span>][<span class="variable">name</span>] : <span class="variable">false</span>;
			}
		}
	}
	
	<span class="comment">// Return false because there is nothing to use</span>
	<span class="keyword">return</span> <span class="variable">false</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/each.js"><a href="#">each</a></h2></td><td>src/each.js</td></tr><tr class="code">
<td class="docs">
<p>Loops through all of the elements contained in the Spark object passing them to a specified callback function.
You can also pass an array or object as the second argument and it will loop through that instead.</p>

<p>This basically handles looping for you, if you pass it an object then it will perform a <code>hasOwnProperty</code> check before passing it to your callback function.</p>

<p>To loop through all of the p tags on the page and turn them red, you would use the following code.</p>

<pre><code>$('p').each(function(e) {
    e.style.color = '#FF0000';
});</code></pre>

<p>To loop through an array or object you just pass the variable in question to the each function as the second argument. Here is an example of passing an array.</p>

<pre><code>Spark.each(function(e, i) {
    console.log(i + ': ' + e);
}, ['hello', 'world']);</code></pre>

<p>As you can see, a second argument is passed to your callback containing the current key</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>Function</em>  fn Function for the current element to be passed to</p></li><li><p><strong>param</strong>: <em>Array | Object</em>  data Optional data to be looped over, if not passed then it uses the elements</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'each'</span>, <span class="keyword">function</span>(<span class="variable">fn</span>, <span class="variable">data</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>,
		<span class="variable">target</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Check if there is any data</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">data</span> === <span class="string">'undefined'</span>) {
		<span class="comment">// Theres no data, check for elements</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="this">this</span>.<span class="variable">elements</span> === <span class="string">'undefined'</span>) {
			<span class="comment">// There is nothing to use, return false</span>
			<span class="keyword">return</span> <span class="variable">false</span>;
		}
		<span class="keyword">else</span> {
			<span class="comment">// There are some elelements, assign it to target</span>
			<span class="variable">target</span> = <span class="this">this</span>.<span class="variable">elements</span>;
		}
	}
	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">data</span> === <span class="string">'object'</span>) {
		<span class="comment">// We have data! Assign it to target</span>
		<span class="variable">target</span> = <span class="variable">data</span>;
	}
	
	<span class="comment">// Check if target is like an array or object</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">target</span>.<span class="variable">length</span> === <span class="string">'number'</span>) {
		<span class="comment">// Loop through as an array</span>
		<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="variable">target</span>.<span class="variable">length</span>; <span class="variable">i</span>++) {
			<span class="variable">fn</span>(<span class="variable">target</span>[<span class="variable">i</span>], <span class="variable">i</span>);
		}
	}
	<span class="keyword">else</span> {
		<span class="comment">// Loop through as an object</span>
		<span class="keyword">for</span>(<span class="variable">i</span> <span class="keyword">in</span> <span class="variable">target</span>) {
			<span class="keyword">if</span>(<span class="variable">target</span>.<span class="variable">hasOwnProperty</span>(<span class="variable">i</span>) === <span class="variable">true</span>) {
				<span class="variable">fn</span>(<span class="variable">target</span>[<span class="variable">i</span>], <span class="variable">i</span>);
			}
		}
	}
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/find.js"><a href="#">find</a></h2></td><td>src/find.js</td></tr><tr class="code">
<td class="docs">
<p>The find function is Spark's selector engine. It supports all of the <a href="http://www.w3.org/TR/CSS2/selector.html">CSS2 selectors</a> apart from the link and dynamic pseudo selectors.
Say you wanted to find all p tags that where within a div, you would use the following line.</p>

<pre><code>Spark.find('div p');</code></pre>

<p>You can also used the dollar alias for the find function like so.</p>

<pre><code>$('div p');</code></pre>

<p>This saves a few characters and helps you distinguish lines that involve elements from ones that do not.</p>

<p>You can also pass a context to search within, for example.</p>

<pre><code>var el = $('div#contactForm');
$('div p', el);</code></pre>

<p>The elements are placed within the Spark object. The object is then assigned a length so you can treat it as an array. There is also an array of elements located in the <code>elements</code> section of the object.</p>

<p>You can also pass element objects to it and they will be adopted. If you pass an event object it will adopt the events target.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  parameters The criteria the element must meet to be selected</p></li><li><p><strong>param</strong>: <em>Object</em>  context The place you wish to start the search from, defaults to document</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object to allow chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'find'</span>, <span class="keyword">function</span>(<span class="variable">parameters</span>, <span class="variable">context</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">found</span> = [],
		<span class="variable">filtered</span> = [],
		<span class="variable">ctx</span> = (<span class="keyword">typeof</span> <span class="variable">context</span> !== <span class="string">'undefined'</span>) ? <span class="variable">context</span> : <span class="variable">document</span>,
		<span class="variable">i</span> = <span class="keyword">null</span>,
		<span class="variable">e</span> = <span class="keyword">null</span>,
		<span class="variable">tempFound</span> = <span class="keyword">null</span>,
		<span class="variable">classes</span> = <span class="keyword">null</span>,
		<span class="variable">built</span> = <span class="this">this</span>.<span class="variable">clone</span>();
	
	<span class="comment">// Check if parameters is not an actual search object</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">parameters</span> === <span class="string">'object'</span>) {
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">parameters</span>.<span class="variable">nodeName</span> === <span class="string">'string'</span>) {
			<span class="comment">// They passed an element, this needs to be adopted into the chain</span>
			<span class="variable">built</span>[<span class="number integer">0</span>] = <span class="variable">parameters</span>;
			<span class="variable">built</span>.<span class="variable">elements</span> = [<span class="variable">parameters</span>];
			<span class="variable">built</span>.<span class="variable">length</span> = <span class="number integer">1</span>;
			
			<span class="comment">// Return the object with the adopted value</span>
			<span class="keyword">return</span> <span class="variable">built</span>;
		}
		<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">parameters</span>.<span class="variable">target</span> === <span class="string">'object'</span>) {
			<span class="comment">// They passed an event object, its target needs to be adopted into the chain</span>
			<span class="variable">built</span>[<span class="number integer">0</span>] = <span class="variable">parameters</span>.<span class="variable">target</span>;
			<span class="variable">built</span>.<span class="variable">elements</span> = [<span class="variable">parameters</span>.<span class="variable">target</span>];
			<span class="variable">built</span>.<span class="variable">length</span> = <span class="number integer">1</span>;
			
			<span class="comment">// Return the object with the adopted value</span>
			<span class="keyword">return</span> <span class="variable">built</span>;
		}
	}</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/hasClass.js"><a href="#">hasClass</a></h2></td><td>src/hasClass.js</td></tr><tr class="code">
<td class="docs">
<p>Checks if an element has the specified class.</p>

<p>For example, this will return true, given that there is a div with a class of focus on the page.</p>

<pre><code>$('div.focus').hasClass('focus');</code></pre>

<p>You can also pass an array instead and all of the class names in the array will be checked for.</p>

<p>All class names must be found for it to return true</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Array</em>  name The class name you want to search for or an array of class names. If you pass an array, all will have to match</p></li><li><p><strong>returns</strong>: <em>Boolean</em>  Will return true if it has the class or false if it does not</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'hasClass'</span>, <span class="keyword">function</span>(<span class="variable">name</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">e</span> = <span class="keyword">null</span>,
		<span class="variable">found</span> = <span class="variable">true</span>,
		<span class="variable">element</span> = <span class="keyword">null</span>,
		<span class="variable">type</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Make sure we have some elements</span>
	<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
		<span class="comment">// Get the first element</span>
		<span class="variable">e</span> = <span class="this">this</span>[<span class="number integer">0</span>];
		
		<span class="comment">// Put it in an instance</span>
		<span class="variable">element</span> = <span class="this">this</span>.<span class="variable">find</span>(<span class="variable">e</span>);
	}
	<span class="keyword">else</span> {
		<span class="comment">// We have nothing, return false</span>
		<span class="keyword">return</span> <span class="variable">false</span>;
	}
	
	<span class="comment">// Get the type</span>
	<span class="variable">type</span> = <span class="variable">element</span>.<span class="variable">attribute</span>(<span class="string">'class'</span>) ? <span class="string">'class'</span> : <span class="string">'className'</span>;
	
	<span class="comment">// Check if name is an array</span>
	<span class="keyword">if</span>(<span class="variable">name</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
		<span class="comment">// Loop over the array</span>
		<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">n</span>) {
			<span class="comment">// Check for the class</span>
			<span class="keyword">if</span>(!<span class="keyword">new</span> <span class="class">RegExp</span>(<span class="string">'(^|\\s)'</span> + <span class="variable">n</span> + <span class="string">'($|\\s)'</span>).<span class="variable">test</span>(<span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>))) {
				<span class="comment">// If not found set found to false</span>
				<span class="variable">found</span> = <span class="variable">false</span>;
			}
		}, <span class="variable">name</span>);
		
		<span class="comment">// Return found</span>
		<span class="keyword">return</span> <span class="variable">found</span>;
	}
	<span class="keyword">else</span> {
		<span class="comment">// Check for the class</span>
		<span class="keyword">return</span> <span class="keyword">new</span> <span class="class">RegExp</span>(<span class="string">'(^|\\s)'</span> + <span class="variable">name</span> + <span class="string">'($|\\s)'</span>).<span class="variable">test</span>(<span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>));
	}
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/hide.js"><a href="#">hide</a></h2></td><td>src/hide.js</td></tr><tr class="code">
<td class="docs">
<p>Hides all of the found elements</p>

<p>For example, to hide all p tags on the page, you would use the following line</p>

<pre><code>$('p').hide();</code></pre>

<p>To fade the elements out, you would specify the fade transition as the optional argument</p>

<pre><code>$('p').hide('fade');</code></pre>

<p>You can also pass a function as the second argument to be run when the transition completes, like so</p>

<pre><code>$('p').hide('fade', false, false, function() {
    alert('done');
});</code></pre>

<p>The two middle arguments are timeframe and easing. This works exactly the same as the animate function.</p>

<p>This function takes the originial display type into account.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  transition Optional name of the transition to use to hide. Default transitions are: fade, slide and smooth</p></li><li><p><strong>param</strong>: <em>Number | Boolean</em>  timeframe How many milliseconds you wish the transition to take, pass false to default to 600</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  easing The easing method to use either in, out or inOut followed by one of the following: Quad, Cubic, Quart, Quint, Sine, Expo, Circ, Elastic, Back or Bounce, pass false to default to outQuad. You can also use linear</p></li><li><p><strong>param</strong>: <em>Function</em>  callback Optional function to be run after the transition completes</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'hide'</span>, <span class="keyword">function</span>(<span class="variable">transition</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>;
	
	<span class="comment">// Check for a transition</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">transition</span> === <span class="string">'string'</span>) {
		<span class="comment">// Hide it with the specified transition</span>
		<span class="comment">// Check for the transition</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="this">this</span>.<span class="variable">transitions</span>.<span class="variable">hide</span>[<span class="variable">transition</span>] === <span class="string">'function'</span>) {
			<span class="comment">// Loop through all of the elements</span>
			<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
				<span class="comment">// Run the transition</span>
				<span class="variable">that</span>.<span class="variable">transitions</span>.<span class="variable">hide</span>[<span class="variable">transition</span>](<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>), <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>);
				
				<span class="comment">// Now remove the callback so it is only called once</span>
				<span class="variable">callback</span> = <span class="variable">false</span>;
			});
		}
		<span class="keyword">else</span> {
			<span class="comment">// If it does not exist, default to just hiding it</span>
			<span class="this">this</span>.<span class="variable">hide</span>();
		}
	}
	<span class="keyword">else</span> {
		<span class="comment">// Loop through all the elements</span>
		<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
			<span class="comment">// Make sure it is already shown</span>
			<span class="keyword">if</span>(<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">style</span>(<span class="string">'display'</span>) !== <span class="string">'none'</span>) {
				<span class="comment">// Store the original display type and hide the element</span>
				<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkDisplayType'</span>, <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">style</span>(<span class="string">'display'</span>)).<span class="variable">style</span>(<span class="string">'display'</span>, <span class="string">'none'</span>);
			}
		});
	}
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/html.js"><a href="#">html</a></h2></td><td>src/html.js</td></tr><tr class="code">
<td class="docs">
<p>Replace or append a html string to the specified elements</p>

<p>To replace the content of an element you just have to pass a replacement string, like so.</p>

<pre><code>$('p.someClass').html('Replaced');</code></pre>

<p>If you pass true as the second argument then it will append the text.</p>

<p>If nothing is passed then it returns the first elements content.
 </p>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'html'</span>, <span class="keyword">function</span>(<span class="variable">content</span>, <span class="variable">append</span>) {
	<span class="comment">// Check if they just want the innerHTML</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">content</span> === <span class="string">'undefined'</span>) {
		<span class="comment">// Make sure we have some elements</span>
		<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
			<span class="comment">// Return the innerHTML</span>
			<span class="keyword">return</span> <span class="this">this</span>[<span class="number integer">0</span>].<span class="variable">innerHTML</span>;
		}
		<span class="keyword">else</span> {
			<span class="comment">// Return false because we have no elements</span>
			<span class="keyword">return</span> <span class="variable">false</span>;
		}
	}
	
	<span class="comment">// Loop through all the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Append or replace the html</span>
		<span class="keyword">if</span>(<span class="variable">append</span>) {
			<span class="variable">e</span>.<span class="variable">innerHTML</span> += <span class="variable">content</span>;
		}
		<span class="keyword">else</span> {
			<span class="variable">e</span>.<span class="variable">innerHTML</span> = <span class="variable">content</span>;
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/insertElement.js"><a href="#">insertElement</a></h2></td><td>src/insertElement.js</td></tr><tr class="code">
<td class="docs">
<p>Inserts a new element into the specified elements</p>

<p>You can pass an already created element from the createElement function or pass the parameters for a new one. Like so.</p>

<pre><code>$('p').insertElement('p', 'Hello, World!', {
    class: 'someClass',
    title: 'Some title'
}, {
    'background-color': '#FF0000'
});</code></pre>

<p>Passing false for the html, attributes or styles will cause them to be ignored.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  name Name of the node you wish to create or an already created element</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  html The inner html of the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  attributes Attributes to assign to the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  styles Styles to assign to the element</p></li><li><p><strong>returns</strong>: <em>Object</em>  The Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'insertElement'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">el</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Check if we need to create the new element</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'string'</span>) {
		<span class="variable">el</span> = <span class="this">this</span>.<span class="variable">createElement</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>);
	}
	<span class="keyword">else</span> {
		<span class="variable">el</span> = <span class="variable">name</span>;
	}
	
	<span class="comment">// Loop through the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="variable">e</span>.<span class="variable">appendChild</span>(<span class="variable">el</span>.<span class="variable">cloneNode</span>(<span class="variable">true</span>));
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/json.js"><a href="#">json</a></h2></td><td>src/json.js</td></tr><tr class="code">
<td class="docs">
<p>The JSON object can stringify or parse JSON.</p>

<p>To parse a JSON string back into its respective object / array / string etc, simply use the following line. Where <code>json</code> equals your JSON string.</p>

<pre><code>var parsed = Spark.json.parse(json);</code></pre>

<p>This will then return what ever is contained in the JSON string. If the string is invalid then it will throw an <code>Invalid JSON</code> syntax error.</p>

<p>To turn the parsed data back into a JSON string you can use the following line.</p>

<pre><code>Spark.json.stringify(parsed);</code></pre>

<p> </p>
</td>
<td class="code">

</td>
</tr>
<tr class="code">
<td class="docs">
<p>Checks that the string is valid JSON and then parses it.
On error, it will throw a 'Invalid JSON' syntax error</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  json The JSON string that you want to parse</p></li><li><p><strong>returns</strong>: <em>Mixed</em>  Will return the parsed data on success</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">parse</span>: <span class="keyword">function</span>(<span class="variable">json</span>) {
		<span class="comment">// Check if we can use native method</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="class">JSON</span> !== <span class="string">'undefined'</span>) {
			<span class="keyword">try</span> {
				<span class="comment">// Try to parse the JSON</span>
				<span class="keyword">return</span> <span class="class">JSON</span>.<span class="variable">parse</span>(<span class="variable">json</span>);
			}
			<span class="keyword">catch</span>(<span class="variable">err</span>) {
				<span class="comment">// Parsing failed throw an error</span>
				<span class="keyword">throw</span> <span class="keyword">new</span> <span class="class">SyntaxError</span>(<span class="string">'Invalid JSON'</span>);
			}
		}
		
		<span class="comment">// Check that the JSON string is okay</span>
		<span class="keyword">if</span>(<span class="regexp">/^[\],:{}\s]*$/</span>.<span class="variable">test</span>(<span class="variable">json</span>.<span class="variable">replace</span>(<span class="regexp">/\\(?:[&quot;\\\/bfnrt</span>]|<span class="variable">u</span>[<span class="number integer">0</span>-<span class="variable">a</span>-<span class="variable">fA</span>-<span class="class">F</span>]{<span class="number integer">4</span>})/<span class="variable">g</span>, <span class="string">'@'</span>)
			.<span class="variable">replace</span>(<span class="regexp">/&quot;[^&quot;\\\n\r]*&quot;|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g</span>, <span class="string">']'</span>)
			.<span class="variable">replace</span>(<span class="regexp">/(?:^|:|,)(?:\s*\[)+/g</span>, <span class="string">''</span>))) {
			<span class="comment">// It is, parse and return</span>
		    <span class="keyword">return</span> <span class="variable">eval</span>(<span class="string">'('</span> + <span class="variable">json</span> + <span class="string">')'</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// It is not, throw an error</span>
			<span class="keyword">throw</span> <span class="keyword">new</span> <span class="class">SyntaxError</span>(<span class="string">'Invalid JSON'</span>);
		}
	},</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Turns a mixed variable into a JSON string</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>Mixed</em>  data The mixed variable to encode</p></li><li><p><strong>param</strong>: <em>String</em>  key An optional key for encoding objects, used internally</p></li><li><p><strong>returns</strong>: <em>String</em>  The JSON string</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">stringify</span>: <span class="keyword">function</span>(<span class="variable">data</span>, <span class="variable">key</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>,
			<span class="variable">built</span> = <span class="string">''</span>,
			 <span class="variable">meta</span> = {
				<span class="string">'\b'</span>: <span class="string">'\\b'</span>,
				<span class="string">'\t'</span>: <span class="string">'\\t'</span>,
				<span class="string">'\n'</span>: <span class="string">'\\n'</span>,
				<span class="string">'\f'</span>: <span class="string">'\\f'</span>,
				<span class="string">'\r'</span>: <span class="string">'\\r'</span>,
				<span class="string">'&quot;'</span> : <span class="string">'\\&quot;'</span>,
				<span class="string">'\\'</span>: <span class="string">'\\\\'</span>
			},
			<span class="variable">escapable</span> = <span class="regexp">/[\\\&quot;\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g</span>;
		
		<span class="comment">// Check if we can use native method</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="class">JSON</span> !== <span class="string">'undefined'</span>) {
			<span class="keyword">return</span> <span class="class">JSON</span>.<span class="variable">stringify</span>(<span class="variable">data</span>);
		}</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/load.js"><a href="#">load</a></h2></td><td>src/load.js</td></tr><tr class="code">
<td class="docs">
<p>Load external JavaScript files into the document</p>

<p>For example, to load a Spark plugin into the document you would use the following line.</p>

<pre><code>Spark.load('http://somesite/AwesomeSparkPlugin.js');</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  file Path to the script you want to load</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'load'</span>, <span class="keyword">function</span>(<span class="variable">file</span>) {
	<span class="comment">// Add the script tag</span>
	<span class="this">this</span>.<span class="variable">clone</span>().<span class="variable">find</span>(<span class="string">'head'</span>).<span class="variable">insertElement</span>(<span class="string">'script'</span>, <span class="variable">false</span>, {
		<span class="variable">type</span>: <span class="string">'text/javascript'</span>,
		<span class="variable">src</span>: <span class="variable">file</span>
	});
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/net.js"><a href="#">net</a></h2></td><td>src/net.js</td></tr><tr class="code">
<td class="docs">
<p>The net object contains three functions, <code>get</code>, <code>post</code> and <code>getJSON</code>.
You can call these functions like so.</p>

<pre><code>Spark.net.get('foo.json');
Spark.net.post('foo.json');
Spark.net.getJSON('foo.json', 'handlerFunction'); // Works cross domain (can retrieve tweets etc)</code></pre>

<p>The above examples are synchronous requests, to perform an asynchronous request you must pass a callback, like so. This does not apply to the <code>getJSON</code> method. This must always have a callback for the data to be passed to.</p>

<p>Do not make the mistake of passing a function. This must be a string and represent the functions name. Not the function its self.</p>

<pre><code>Spark.net.post('foo.json', false, function(data) {
    console.log(data);
});</code></pre>

<p>The argument passed to the callback, in this case data, contains the data retrieved from the specified file. If the request failed then the passed variable will be false. The same goes for synchronous requests, if the request fails, it will return false.</p>

<p>The second argument is for the parameters, if false no parameters will be sent. Here is an example of getting a file asynchronously with a parameter and a check to make sure the request worked.</p>

<pre><code>Spark.net.get('foo.json', {
    foo: 'bar'
}, function(data) {
    if(data) {
        console.log(data);
    }
    else {
        console.log('An error occurred.');
    }
});</code></pre>

<p>In the <code>getJSON</code> method, these arguments are reversed, you must pass a callback and then an optional parameters object.</p>

<pre><code>Spark.net.getJSON('http://api.twitter.com/1/statuses/user_timeline.json', 'handle', {
    screen_name: 'SparkJavaScript',
    count: '5'
});</code></pre>

<p>The code above would pull the latest five tweets from Spark's twitter account and pass them in an object to a function called <code>handle</code>.</p>

<p>If the API requires the callback name be specified in a different value, then you can pass false for the callback name and specify the callback name in the parameters section.
 </p>
</td>
<td class="code">

</td>
</tr>
<tr class="code">
<td class="docs">
<p>Perform a get request with optional parameters either synchronously or asynchronously</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  file Path of the target file</p></li><li><p><strong>param</strong>: <em>Object</em>  parameters The arguments you wish to pass to the file</p></li><li><p><strong>param</strong>: <em>Function</em>  callback If set, the call become asynchronous and the data is passed to it on completion, it will pass false if it failed</p></li><li><p><strong>returns</strong>: <em>String | Boolean</em>  The data retrieved from the file if it is a synchronous call, returns false if it failed</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">get</span>: <span class="keyword">function</span>(<span class="variable">file</span>, <span class="variable">parameters</span>, <span class="variable">callback</span>) {
		<span class="comment">// Set up the AJAX object</span>
		<span class="keyword">var</span> <span class="variable">req</span> = <span class="this">this</span>.<span class="variable">initialise</span>();
		
		<span class="comment">// Make sure parameters is an object</span>
		<span class="keyword">if</span>(<span class="variable">parameters</span>) {
			<span class="comment">// Add the parameters to the file name</span>
			<span class="variable">file</span> += <span class="string">'?'</span> + <span class="this">this</span>.<span class="variable">buildParameterString</span>(<span class="variable">parameters</span>);
		}
		
		<span class="comment">// Check for the callback</span>
		<span class="keyword">if</span>(<span class="variable">callback</span>) {
			<span class="comment">// It exists, so pass it to the callback handling function</span>
			<span class="this">this</span>.<span class="variable">handleCallback</span>(<span class="variable">req</span>, <span class="variable">callback</span>);
		}
		
		<span class="comment">// Open the request, if the callback is set then make it asyncronous</span>
		<span class="variable">req</span>.<span class="variable">open</span>(<span class="string">'GET'</span>, <span class="variable">file</span>, <span class="keyword">typeof</span> <span class="variable">callback</span> === <span class="string">'function'</span>);
		
		<span class="comment">// Send the request</span>
		<span class="variable">req</span>.<span class="variable">send</span>();
		
		<span class="comment">// Check if the callback has not been passed</span>
		<span class="keyword">if</span>(!<span class="variable">callback</span>) {
			<span class="keyword">if</span>(<span class="variable">req</span>.<span class="variable">status</span> === <span class="number integer">200</span>) {
				<span class="comment">// Just return the content because it was a syncronous request</span>
				<span class="keyword">return</span> <span class="variable">req</span>.<span class="variable">responseText</span>;
			}
			<span class="keyword">else</span> {
				<span class="comment">// There was an error so return false</span>
				<span class="keyword">return</span> <span class="variable">false</span>;
			}
		}
	},</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Perform a post request with optional parameters either synchronously or asynchronously</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  file Path of the target file</p></li><li><p><strong>param</strong>: <em>Object</em>  parameters The arguments you wish to pass to the file</p></li><li><p><strong>param</strong>: <em>Function</em>  callback If set, the call become asynchronous and the data is passed to it on completion, it will pass false if it failed</p></li><li><p><strong>returns</strong>: <em>String | Boolean</em>  The data retrieved from the file if it is a synchronous call, returns false if it failed</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">post</span>: <span class="keyword">function</span>(<span class="variable">file</span>, <span class="variable">parameters</span>, <span class="variable">callback</span>) {
		<span class="comment">// Set up the AJAX object</span>
		<span class="keyword">var</span> <span class="variable">req</span> = <span class="this">this</span>.<span class="variable">initialise</span>();
		
		<span class="comment">// Check for the callback</span>
		<span class="keyword">if</span>(<span class="variable">callback</span>) {
			<span class="comment">// It exists, so pass it to the callback handling function</span>
			<span class="this">this</span>.<span class="variable">handleCallback</span>(<span class="variable">req</span>, <span class="variable">callback</span>);
		}
		
		<span class="comment">// Open the request, if the callback is set then make it asyncronous</span>
		<span class="variable">req</span>.<span class="variable">open</span>(<span class="string">'POST'</span>, <span class="variable">file</span>, <span class="keyword">typeof</span> <span class="variable">callback</span> === <span class="string">'function'</span>);
		
		<span class="comment">// Set the headers</span>
		<span class="variable">req</span>.<span class="variable">setRequestHeader</span>(<span class="string">'Content-type'</span>, <span class="string">'application/x-www-form-urlencoded'</span>);
		
		<span class="comment">// Only send the data if it is set</span>
		<span class="keyword">if</span>(<span class="variable">parameters</span>) {
			<span class="variable">req</span>.<span class="variable">send</span>(<span class="this">this</span>.<span class="variable">buildParameterString</span>(<span class="variable">parameters</span>));
		}
		<span class="keyword">else</span> {
			<span class="variable">req</span>.<span class="variable">send</span>();
		}
		
		<span class="comment">// Check if the callback has not been passed</span>
		<span class="keyword">if</span>(!<span class="variable">callback</span>) {
			<span class="keyword">if</span>(<span class="variable">req</span>.<span class="variable">status</span> === <span class="number integer">200</span>) {
				<span class="comment">// Just return the content because it was a syncronous request</span>
				<span class="keyword">return</span> <span class="variable">req</span>.<span class="variable">responseText</span>;
			}
			<span class="keyword">else</span> {
				<span class="comment">// There was an error so return false</span>
				<span class="keyword">return</span> <span class="variable">false</span>;
			}
		}
	},</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<p>Load a JSON file and pass it to the callback function</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  file Path of the target file</p></li><li><p><strong>param</strong>: <em>String</em>  callback Function name to pass the parsed JSON to</p></li><li><p><strong>param</strong>: <em>Object</em>  parameters The arguments you wish to pass to the file</p><p> </p></li></ul>
</td>
<td class="code">
<pre><code><span class="variable">getJSON</span>: <span class="keyword">function</span>(<span class="variable">file</span>, <span class="variable">callback</span>, <span class="variable">parameters</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">params</span> = <span class="variable">false</span>;
		
		<span class="comment">// Get the parameter string if required</span>
		<span class="keyword">if</span>(<span class="variable">parameters</span>) {
			<span class="variable">params</span> = <span class="this">this</span>.<span class="variable">buildParameterString</span>(<span class="variable">parameters</span>);
		}
		<span class="keyword">else</span> {
			<span class="variable">params</span> = <span class="string">''</span>;
		}
		
		<span class="comment">// Add the question mark if required</span>
		<span class="keyword">if</span>(<span class="variable">callback</span> || <span class="variable">params</span>) {
			<span class="variable">file</span> += <span class="string">'?'</span>;
		}
		
		<span class="comment">// Load the file</span>
		<span class="this">this</span>.<span class="variable">instance</span>.<span class="variable">load</span>(<span class="variable">file</span> + ((<span class="variable">callback</span>) ? <span class="string">'callback='</span> + <span class="variable">callback</span> + <span class="string">'&amp;'</span> : <span class="string">''</span>) + <span class="variable">params</span>);
	}
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/prependElement.js"><a href="#">prependElement</a></h2></td><td>src/prependElement.js</td></tr><tr class="code">
<td class="docs">
<p>Inserts a new element before the specified elements</p>

<p>You can pass an already created element from the createElement function or pass the parameters for a new one. Like so.</p>

<pre><code>$('p').prependElement('p', 'Hello, World!', {
    class: 'someClass',
    title: 'Some title'
}, {
    'background-color': '#FF0000'
});</code></pre>

<p>Passing false for the html, attributes or styles will cause them to be ignored.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  name Name of the node you wish to create or an already created element</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  html The inner html of the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  attributes Attributes to assign to the element</p></li><li><p><strong>param</strong>: <em>Object | Boolean</em>  styles Styles to assign to the element</p></li><li><p><strong>returns</strong>: <em>Object</em>  The Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'prependElement'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">el</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Check if we need to create the new element</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'string'</span>) {
		<span class="variable">el</span> = <span class="this">this</span>.<span class="variable">createElement</span>(<span class="variable">name</span>, <span class="variable">html</span>, <span class="variable">attributes</span>, <span class="variable">styles</span>);
	}
	<span class="keyword">else</span> {
		<span class="variable">el</span> = <span class="variable">name</span>;
	}
	
	<span class="comment">// Loop through the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="variable">e</span>.<span class="variable">parentNode</span>.<span class="variable">insertBefore</span>(<span class="variable">el</span>.<span class="variable">cloneNode</span>(<span class="variable">true</span>), <span class="variable">e</span>);
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/property.js"><a href="#">property</a></h2></td><td>src/property.js</td></tr><tr class="code">
<td class="docs">
<p>The property function is used to get or set properties.
Not to be confused with attributes, if you are trying to get the value for instance attribute will get what it says in the html tag, property will get the actual value.</p>

<p>It takes either one or two arguments, if you pass a name and a value like so.</p>

<pre><code>$('img').property('title', 'An image');</code></pre>

<p>Then it will assign 'An image' to the title property of all img tags on the page.</p>

<p>You can then retrieve the alt value of the first image on the page like so.</p>

<pre><code>$('img').property('title');</code></pre>

<p>If you have multiple values to set then you can use an object like so.</p>

<pre><code>$('img').property({
    alt: 'An image',
    title: 'Image title'
});</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  name Either an object of properties or the name of the required property</p></li><li><p><strong>param</strong>: <em>String</em>  value The value to assign to the name if you passed a string, if not passed then it returns the value of the previous name</p></li><li><p><strong>returns</strong>: <em>Object | String</em>  If you are setting it will return the Spark object for chaining, if you are getting then it will return the retrieved value</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'property'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">value</span>) {
	<span class="comment">// Set up that to put this in scope</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>;
	
	<span class="comment">// Check what kind of variable name is</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'string'</span>) {
		<span class="comment">// Check if they passed a value</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">value</span> === <span class="string">'string'</span>) {
			<span class="comment">// Loop through all elements and assign the property</span>
			<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
				<span class="variable">e</span>[<span class="variable">name</span>] = <span class="variable">value</span>;
			});
		}
		<span class="keyword">else</span> {
			<span class="comment">// Make sure we have some elements</span>
			<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
				<span class="comment">// Get the property</span>
				<span class="keyword">return</span> <span class="this">this</span>[<span class="number integer">0</span>][<span class="variable">name</span>];
			}
			<span class="keyword">else</span> {
				<span class="comment">// Return false because we have no elements</span>
				<span class="keyword">return</span> <span class="variable">false</span>;
			}
		}
	}
	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'object'</span>) {
		<span class="comment">// Loop through all the properties</span>
		<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">v</span>, <span class="variable">n</span>) {
			<span class="comment">// Loop through all elements and assign the property</span>
			<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
				<span class="variable">e</span>[<span class="variable">n</span>] = <span class="variable">v</span>;
			});
		}, <span class="variable">name</span>);
	}
	
	<span class="comment">// Return the Spark object to allow chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/ready.js"><a href="#">ready</a></h2></td><td>src/ready.js</td></tr><tr class="code">
<td class="docs">
<p>Runs the specified function when the DOM is ready. This is the staple diet of any script using Spark.
For best results across all browsers always wrap your code within the ready function like so.</p>

<pre><code>Spark.ready(function() {
    // Your code goes here
});</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>Function</em>  fn Function to be run when the DOM is ready</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'ready'</span>, <span class="keyword">function</span>(<span class="variable">fn</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>.<span class="variable">clone</span>();</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<pre><code> * Runs the call back and sets the already run flag to true
 </code></pre>
</td>
<td class="code">
<pre><code><span class="keyword">function</span> <span class="variable">ready</span>() {
		<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">document</span>).<span class="variable">data</span>(<span class="string">'domReady'</span>, <span class="variable">true</span>);
		<span class="variable">fn</span>();
	}
	
	<span class="keyword">if</span>(!<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">document</span>).<span class="variable">data</span>(<span class="string">'domReady'</span>)) {
		<span class="comment">// Check if we can use addEventListener</span>
		<span class="keyword">if</span>(<span class="variable">window</span>.<span class="variable">addEventListener</span>) {
			<span class="comment">// For all browsers except IE</span>
			<span class="variable">document</span>.<span class="variable">addEventListener</span>(<span class="string">'DOMContentLoaded'</span>, <span class="variable">ready</span>, <span class="variable">false</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// For IE</span>
			(<span class="keyword">function</span>() {
				<span class="comment">// Create the custom tag</span>
				<span class="keyword">var</span> <span class="variable">tempNode</span> = <span class="variable">document</span>.<span class="variable">createElement</span>(<span class="string">'document:ready'</span>);

				<span class="keyword">try</span> {
					<span class="comment">// See if it throws errors until after it is ready</span>
					<span class="variable">tempNode</span>.<span class="variable">doScroll</span>(<span class="string">'left'</span>);

					<span class="comment">// Call the function</span>
					<span class="variable">ready</span>();
				}
				<span class="keyword">catch</span>(<span class="variable">err</span>) {
					<span class="variable">setTimeout</span>(<span class="variable">arguments</span>.<span class="variable">callee</span>, <span class="number integer">0</span>);
				}
			}());
		}
	}
	<span class="keyword">else</span> {
		<span class="variable">fn</span>();
	}
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/removeClass.js"><a href="#">removeClass</a></h2></td><td>src/removeClass.js</td></tr><tr class="code">
<td class="docs">
<p>Remove a class from the specified elements</p>

<p>This will remove the class, border, from all the h1 tags on the page.</p>

<pre><code>$('h1').removeClass('border');</code></pre>

<p>You can also pass an array instead and all of the class names in the array will be removed.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  name The class name you want to remove</p></li><li><p><strong>param</strong>: <em>String | Array</em>  name The class name you want to remove or an array of class names</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'removeClass'</span>, <span class="keyword">function</span>(<span class="variable">name</span>) {
	<span class="comment">// Put this in scope</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>,
		<span class="variable">type</span> = <span class="keyword">null</span>,
		<span class="variable">element</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Loop through all the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Get the element</span>
		<span class="variable">element</span> = <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>);
		
		<span class="comment">// Get the type</span>
		<span class="variable">type</span> = <span class="variable">element</span>.<span class="variable">attribute</span>(<span class="string">'class'</span>) ? <span class="string">'class'</span> : <span class="string">'className'</span>;
		
		<span class="comment">// Check if name is an array</span>
		<span class="keyword">if</span>(<span class="variable">name</span> <span class="variable">instanceof</span> <span class="class">Array</span>) {
			<span class="comment">// Loop over the array</span>
			<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">n</span>) {
				<span class="comment">// Remove the class</span>
				<span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>, <span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>).<span class="variable">replace</span>(<span class="keyword">new</span> <span class="class">RegExp</span>(<span class="string">'(^|\\s)'</span> + <span class="variable">n</span> + <span class="string">'($|\\s)'</span>), <span class="string">''</span>));
			}, <span class="variable">name</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// Remove the class</span>
			<span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>, <span class="variable">element</span>.<span class="variable">attribute</span>(<span class="variable">type</span>).<span class="variable">replace</span>(<span class="keyword">new</span> <span class="class">RegExp</span>(<span class="string">'(^|\\s)'</span> + <span class="variable">name</span> + <span class="string">'($|\\s)'</span>), <span class="string">''</span>));
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/removeElement.js"><a href="#">removeElement</a></h2></td><td>src/removeElement.js</td></tr><tr class="code">
<td class="docs">
<p>Removes the found elements</p>

<p>To remove all p tags on the page, you would use the following line</p>

<pre><code>$('p').removeElement();</code></pre>

<h2></h2>

<ul><li><p><strong>returns</strong>: <em>Object</em>  The Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'removeElement'</span>, <span class="keyword">function</span>() {
	<span class="comment">// Loop through the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="variable">e</span>.<span class="variable">parentNode</span>.<span class="variable">removeChild</span>(<span class="variable">e</span>);
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/removeEvent.js"><a href="#">removeEvent</a></h2></td><td>src/removeEvent.js</td></tr><tr class="code">
<td class="docs">
<p>Remove an event listener from the found elements.</p>

<p>Here is an example of removing the listener for a click event from all p tags.</p>

<pre><code>$('p').removeEvent('click', myFunction);</code></pre>

<p><code>myFunction</code> must contain a reference to the function you originally passed to the <code>addEvent</code> function.</p>

<p>This will not work with anonymous functions.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  type Name of the event you want to remove</p></li><li><p><strong>param</strong>: <em>Function</em>  fn Reference to the function which you previously passed</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'removeEvent'</span>, <span class="keyword">function</span>(<span class="variable">type</span>, <span class="variable">fn</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">found</span> = <span class="keyword">null</span>,
		<span class="variable">that</span> = <span class="this">this</span>;
	
	<span class="comment">// Loop through all of the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Check we have events</span>
		<span class="keyword">if</span>(<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkEvents'</span>)) {
			<span class="comment">// Loop through the events until we find one</span>
			<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">r</span>) {
				<span class="keyword">if</span>(<span class="variable">r</span>.<span class="variable">fn</span> === <span class="variable">fn</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">r</span>.<span class="variable">type</span> === <span class="variable">type</span>) {
					<span class="comment">// Found it! Remove the event in the appropriate way</span>
					<span class="keyword">if</span>(<span class="variable">e</span>.<span class="variable">removeEventListener</span>) {
						<span class="variable">e</span>.<span class="variable">removeEventListener</span>(<span class="variable">type</span>, <span class="variable">r</span>.<span class="variable">reference</span>, <span class="variable">false</span>);
					}
					<span class="keyword">else</span> {
						<span class="variable">e</span>.<span class="variable">detachEvent</span>(<span class="string">'on'</span> + <span class="variable">type</span>, <span class="variable">r</span>.<span class="variable">reference</span>);
					}
				}
			}, <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkEvents'</span>));
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/show.js"><a href="#">show</a></h2></td><td>src/show.js</td></tr><tr class="code">
<td class="docs">
<p>Shows all of the found elements</p>

<p>For example, to show all p tags on the page, you would use the following line</p>

<pre><code>$('p').show();</code></pre>

<p>To fade the elements in, you would specify the fade transition as the optional argument</p>

<pre><code>$('p').show('fade');</code></pre>

<p>You can also pass a function as the second argument to be run when the transition completes, like so</p>

<pre><code>$('p').show('fade', false, false, function() {
    alert('done');
});</code></pre>

<p>The two middle arguments are timeframe and easing. This works exactly the same as the animate function.</p>

<p>This function takes the originial display type into account.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  transition Optional name of the transition to use to show. Default transitions are: fade, slide and smooth</p></li><li><p><strong>param</strong>: <em>Number | Boolean</em>  timeframe How many milliseconds you wish the transition to take, pass false to default to 600</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  easing The easing method to use either in, out or inOut followed by one of the following: Quad, Cubic, Quart, Quint, Sine, Expo, Circ, Elastic, Back or Bounce, pass false to default to outQuad. You can also use linear</p></li><li><p><strong>param</strong>: <em>Function</em>  callback Optional function to be run after the transition completes</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'show'</span>, <span class="keyword">function</span>(<span class="variable">transition</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>;
	
	<span class="comment">// Check for a transition</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">transition</span> === <span class="string">'string'</span>) {
		<span class="comment">// Show it with the specified transition</span>
		<span class="comment">// Check for the transition</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="this">this</span>.<span class="variable">transitions</span>.<span class="variable">show</span>[<span class="variable">transition</span>] === <span class="string">'function'</span>) {
			<span class="comment">// Loop through all of the elements</span>
			<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
				<span class="comment">// Run the transition</span>
				<span class="variable">that</span>.<span class="variable">transitions</span>.<span class="variable">show</span>[<span class="variable">transition</span>](<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>), <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>);
				
				<span class="comment">// Now remove the callback so it is only called once</span>
				<span class="variable">callback</span> = <span class="variable">false</span>;
			});
		}
		<span class="keyword">else</span> {
			<span class="comment">// If it does not exist, default to just showing it</span>
			<span class="this">this</span>.<span class="variable">show</span>();
		}
	}
	<span class="keyword">else</span> {
		<span class="comment">// Just show it</span>
		<span class="comment">// Loop through all the elements</span>
		<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
			<span class="comment">// Show the element with the correct display type</span>
			<span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">style</span>(<span class="string">'display'</span>, <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>).<span class="variable">data</span>(<span class="string">'SparkDisplayType'</span>) || <span class="string">'block'</span>);
		});
	}
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/stop.js"><a href="#">stop</a></h2></td><td>src/stop.js</td></tr><tr class="code">
<td class="docs">
<p>Stops all animations for the specified elements</p>

<p>For example, to stop the animation of all div's on the page, you would use the following line</p>

<pre><code>$('div').stop();</code></pre>

<h2></h2>

<ul><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'stop'</span>, <span class="keyword">function</span>() {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>,
		<span class="variable">element</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Loop through all of the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Grab the element</span>
		<span class="variable">element</span> = <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>);
		
		<span class="comment">// Make sure the element has a timeout and animation array</span>
		<span class="keyword">if</span>(<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>) &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>)) {
			 <span class="comment">// Loop through all of the timeouts</span>
			<span class="variable">that</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">t</span>) {
				<span class="variable">clearTimeout</span>(<span class="variable">t</span>);
			}, <span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>));
			
			<span class="comment">// Reset the array</span>
			<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkTimeouts'</span>, []);
			
			<span class="comment">// Reset the animations array</span>
			<span class="variable">element</span>.<span class="variable">data</span>(<span class="string">'SparkAnimations'</span>, []);
		}
	});
	
	<span class="comment">// Return the Spark object</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/style.js"><a href="#">style</a></h2></td><td>src/style.js</td></tr><tr class="code">
<td class="docs">
<p>The style function is used to get or set styles.
It takes either one or two arguments, if you pass a name and a value like so.</p>

<pre><code>$('img').style('width', '100px');</code></pre>

<p>Then it will make all images on the page 100px wide.</p>

<p>You can then retrieve the width of the first image on the page like so.</p>

<pre><code>$('img').style('width');</code></pre>

<p>If you have multiple styles to set then you can use an object like so.</p>

<pre><code>$('img').style({
    width: '100px',
    height: '50px'
});</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String | Object</em>  name Either an object of styles or the name of the required style</p></li><li><p><strong>param</strong>: <em>String</em>  value The value to assign to the style if you passed a string, if not passed then it returns the style of the previous name</p></li><li><p><strong>returns</strong>: <em>Object | String</em>  If you are setting it will return the Spark object for chaining, if you are getting then it will return the retrieved style</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'style'</span>, <span class="keyword">function</span>(<span class="variable">name</span>, <span class="variable">value</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">i</span> = <span class="keyword">null</span>,
		<span class="variable">n</span> = <span class="keyword">null</span>,
		<span class="variable">that</span> = <span class="this">this</span>,
		<span class="variable">directions</span> = <span class="keyword">null</span>;</code></pre>
</td>
</tr>
<tr class="code">
<td class="docs">
<pre><code> * Retrieves the specified computed style from the element
 * 
 * @param {Object} e Element object to get styles from
 * @param {String} name The name of the computed style you require
 * @returns {String} The computed style of the first element in the element list
 </code></pre>
</td>
<td class="code">
<pre><code><span class="keyword">function</span> <span class="variable">getStyle</span>(<span class="variable">e</span>, <span class="variable">name</span>) {
		<span class="comment">// Initialise any required variables</span>
		<span class="keyword">var</span> <span class="variable">style</span> = <span class="keyword">null</span>;
		
		<span class="comment">// Work around for scroll position</span>
		<span class="keyword">if</span>(<span class="variable">name</span> === <span class="string">'scrollTop'</span> || <span class="variable">name</span> === <span class="string">'scrollLeft'</span>) {
			<span class="keyword">return</span> <span class="variable">e</span>[<span class="variable">name</span>];
		}
		
		<span class="comment">// If we can use getComputedStyle</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">getComputedStyle</span> !== <span class="string">'undefined'</span>) {
			<span class="comment">// Return getComputedStyle</span>
			<span class="variable">style</span> = <span class="variable">document</span>.<span class="variable">defaultView</span>.<span class="variable">getComputedStyle</span>(<span class="variable">e</span>, <span class="keyword">null</span>).<span class="variable">getPropertyValue</span>(<span class="variable">hyphenStyle</span>(<span class="variable">name</span>));
		}
		<span class="keyword">else</span> {
			<span class="comment">// Otherwise return currentStyle</span>
			<span class="variable">style</span> = <span class="variable">e</span>.<span class="variable">currentStyle</span>[<span class="variable">name</span>];
		}
		
		<span class="comment">// If not found, check the style property</span>
		<span class="keyword">if</span>(!<span class="variable">style</span>) {
			<span class="variable">style</span> = <span class="variable">e</span>.<span class="variable">style</span>[<span class="variable">name</span>];
		}
		
		<span class="comment">// If it is still not found, set a default</span>
		<span class="keyword">if</span>(!<span class="variable">style</span> &<span class="variable">amp</span>;&<span class="variable">amp</span>; <span class="variable">style</span> !== <span class="number integer">0</span>) {
			<span class="comment">// If it is opacity, set it to 1, anything else, set it to 0</span>
			<span class="keyword">if</span>(<span class="variable">name</span> === <span class="string">'opacity'</span>) {
				<span class="variable">style</span> = <span class="string">'1'</span>;
			}
			<span class="keyword">else</span> {
				<span class="variable">style</span> = <span class="string">'0'</span>;
			}
		}
		
		<span class="comment">// Fix colours</span>
		<span class="keyword">if</span>(<span class="variable">name</span>.<span class="variable">toLowerCase</span>().<span class="variable">indexOf</span>(<span class="string">'color'</span>) !== -<span class="number integer">1</span>) {
			<span class="variable">style</span> = <span class="variable">that</span>.<span class="variable">color</span>.<span class="variable">toRgb</span>(<span class="variable">style</span>);
		}
		
		<span class="comment">// Return the found style, if not found then look in the style property</span>
		<span class="keyword">return</span> <span class="variable">style</span>;
	}
	
	<span class="comment">// Check what kind of variable name is</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'string'</span>) {
		<span class="comment">// Check if they passed a value</span>
		<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">value</span> === <span class="string">'string'</span> || <span class="keyword">typeof</span> <span class="variable">value</span> === <span class="string">'number'</span>) {
			<span class="comment">// Loop through all elements and assign the style</span>
			<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="this">this</span>.<span class="variable">length</span>; <span class="variable">i</span>++) {
				<span class="variable">setStyle</span>(<span class="this">this</span>[<span class="variable">i</span>], <span class="variable">name</span>, <span class="variable">value</span>);
			}
		}
		<span class="keyword">else</span> {
			<span class="comment">// Make sure we have some elements</span>
			<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
				<span class="keyword">if</span>(<span class="variable">name</span> === <span class="string">'padding'</span> || <span class="variable">name</span> === <span class="string">'margin'</span>) {
					<span class="comment">// Get the direction styles</span>
					<span class="variable">directions</span> = [
						<span class="variable">getStyle</span>(<span class="this">this</span>[<span class="number integer">0</span>], <span class="variable">camelStyle</span>(<span class="variable">name</span> + <span class="string">'Top'</span>)),
						<span class="variable">getStyle</span>(<span class="this">this</span>[<span class="number integer">0</span>], <span class="variable">camelStyle</span>(<span class="variable">name</span> + <span class="string">'Bottom'</span>)),
						<span class="variable">getStyle</span>(<span class="this">this</span>[<span class="number integer">0</span>], <span class="variable">camelStyle</span>(<span class="variable">name</span> + <span class="string">'Left'</span>))
					];
					
					<span class="comment">// Loop through the styles</span>
					<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">1</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="number integer">2</span>; <span class="variable">i</span>++) {
						<span class="comment">// Compare</span>
						<span class="keyword">if</span>(<span class="variable">directions</span>[<span class="number integer">0</span>] !== <span class="variable">directions</span>[<span class="variable">i</span>]) {
							<span class="keyword">return</span> <span class="string">''</span>;
						}
					}
					
					<span class="comment">// They match, return one of them</span>
					<span class="keyword">return</span> <span class="variable">directions</span>[<span class="number integer">0</span>];
				}
				<span class="keyword">else</span> {
					<span class="comment">// Get the style</span>
					<span class="keyword">return</span> <span class="variable">getStyle</span>(<span class="this">this</span>[<span class="number integer">0</span>], <span class="variable">camelStyle</span>(<span class="variable">name</span>));
				}
			}
			<span class="keyword">else</span> {
				<span class="comment">// Return false because we have no elements</span>
				<span class="keyword">return</span> <span class="variable">false</span>;
			}
		}
	}
	<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">name</span> === <span class="string">'object'</span>) {
		<span class="comment">// Loop through all the styles</span>
		<span class="keyword">for</span>(<span class="variable">n</span> <span class="keyword">in</span> <span class="variable">name</span>) {
			<span class="comment">// Check that it is not a prototype</span>
			<span class="keyword">if</span>(<span class="variable">name</span>.<span class="variable">hasOwnProperty</span>(<span class="variable">n</span>)) {
				<span class="comment">// Loop through all elements and assign the style</span>
				<span class="keyword">for</span>(<span class="variable">i</span> = <span class="number integer">0</span>; <span class="variable">i</span> &<span class="variable">lt</span>; <span class="this">this</span>.<span class="variable">length</span>; <span class="variable">i</span>++) {
					<span class="variable">setStyle</span>(<span class="this">this</span>[<span class="variable">i</span>], <span class="variable">n</span>, <span class="variable">name</span>[<span class="variable">n</span>]);
				}
			}
		}
	}
	
	<span class="comment">// Return the Spark object to allow chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/text.js"><a href="#">text</a></h2></td><td>src/text.js</td></tr><tr class="code">
<td class="docs">
<p>Replace or append text to the specified elements</p>

<p>To replace the content of an element you just have to pass a replacement string, like so.</p>

<pre><code>$('p.someClass').text('Replaced');</code></pre>

<p>If you pass true as the second argument then it will append the text.</p>

<p>If nothing is passed then it returns the first elements content.
 </p>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'text'</span>, <span class="keyword">function</span>(<span class="variable">content</span>, <span class="variable">append</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">type</span> = (<span class="variable">document</span>.<span class="variable">body</span>.<span class="variable">innerText</span>) ? <span class="string">'innerText'</span> : <span class="string">'textContent'</span>;
	
	<span class="comment">// Check if they just want the text</span>
	<span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="variable">content</span> === <span class="string">'undefined'</span>) {
		<span class="comment">// Make sure we have some elements</span>
		<span class="keyword">if</span>(<span class="this">this</span>.<span class="variable">length</span> !== <span class="number integer">0</span>) {
			<span class="keyword">return</span> <span class="this">this</span>[<span class="number integer">0</span>][<span class="variable">type</span>];
		}
		<span class="keyword">else</span> {
			<span class="comment">// Return false because we have no elements</span>
			<span class="keyword">return</span> <span class="variable">false</span>;
		}
	}
	
	<span class="comment">// Loop through all the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Append or replace the text</span>
		<span class="keyword">if</span>(<span class="variable">append</span>) {
			<span class="variable">e</span>[<span class="variable">type</span>] += <span class="variable">content</span>;
		}
		<span class="keyword">else</span> {
			<span class="variable">e</span>[<span class="variable">type</span>] = <span class="variable">content</span>;
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/toggle.js"><a href="#">toggle</a></h2></td><td>src/toggle.js</td></tr><tr class="code">
<td class="docs">
<p>Toggle the visibility of the specified elements</p>

<p>For example, to toggle the visibility of all p tags on the page, you would use the following line</p>

<pre><code>$('p').toggle();</code></pre>

<p>To fade the elements in, you would specify the fade transition as the optional argument</p>

<pre><code>$('p').show('fade');</code></pre>

<p>You can also pass a function as the second argument to be run when the transition completes, like so</p>

<pre><code>$('p').toggle('fade', false, false, function() {
    alert('done');
});</code></pre>

<p>The two middle arguments are timeframe and easing. This works exactly the same as the animate function.</p>

<p>This function takes the original display type into account.</p>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  transition Optional name of the transition to use to toggle. Default transitions are: fade, slide and smooth</p></li><li><p><strong>param</strong>: <em>Number | Boolean</em>  timeframe How many milliseconds you wish the transition to take, pass false to default to 600</p></li><li><p><strong>param</strong>: <em>String | Boolean</em>  easing The easing method to use either in, out or inOut followed by one of the following: Quad, Cubic, Quart, Quint, Sine, Expo, Circ, Elastic, Back or Bounce, pass false to default to outQuad. You can also use linear</p></li><li><p><strong>param</strong>: <em>Function</em>  callback Optional function to be run after the transition completes</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'toggle'</span>, <span class="keyword">function</span>(<span class="variable">transition</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">that</span> = <span class="this">this</span>,
		<span class="variable">element</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Loop through the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Grab the element</span>
		<span class="variable">element</span> = <span class="variable">that</span>.<span class="variable">find</span>(<span class="variable">e</span>);
		
		<span class="comment">// Check whether it is display none or not</span>
		<span class="keyword">if</span>(<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'display'</span>) === <span class="string">'none'</span>) {
			<span class="comment">// It is, show it</span>
			<span class="variable">element</span>.<span class="variable">show</span>(<span class="variable">transition</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// It is not, hide it</span>
			<span class="variable">element</span>.<span class="variable">hide</span>(<span class="variable">transition</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>);
		}
		
		<span class="comment">// Now remove the callback so it is only called once</span>
		<span class="variable">callback</span> = <span class="variable">false</span>;
	});
	
	<span class="comment">// Return the Spark object</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/transitions.js"><a href="#">transitions</a></h2></td><td>src/transitions.js</td></tr><tr class="code">
<td class="docs">
<p>Extendible object of transitions for use with the show and hide functions</p>

<p>To add a transition you can use the following template</p>

<pre><code>Spark.transitions.show.transitionName(function(element, callback) {
    // Do your stuff for showing and call the callback if one was passed
});

Spark.transitions.hide.transitionName(function(element, callback) {
    // Do your stuff for hiding and call the callback if one was passed
});</code></pre>

<p>Remember to check for the callback first before calling it and try to put things back how they where
 </p>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'transitions'</span>, {
	<span class="variable">show</span>: {
		<span class="variable">fade</span>: <span class="keyword">function</span>(<span class="variable">element</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
			<span class="comment">// Initialise any required variables</span>
			<span class="keyword">var</span> <span class="variable">original</span> = <span class="keyword">null</span>;
			
			<span class="comment">// Fade its opacity to its original</span>
			<span class="variable">element</span>.<span class="variable">animate</span>({
				<span class="variable">opacity</span>: <span class="keyword">function</span>() {
				<span class="comment">// Show the element and grab its opacity</span>
				<span class="variable">original</span> =  <span class="variable">element</span>.<span class="variable">show</span>().<span class="variable">style</span>(<span class="string">'opacity'</span>);
				
				<span class="comment">// Set its opacity to 0</span>
				<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'opacity'</span>, <span class="number integer">0</span>);
				
				<span class="comment">// Return the original</span>
				<span class="keyword">return</span> <span class="variable">original</span>;
				}
			}, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="keyword">function</span>() {
				<span class="comment">// Run the callback if there is one</span>
				<span class="keyword">if</span>(<span class="variable">callback</span>) {
					<span class="variable">callback</span>();
				}
			});
		},
		<span class="variable">slide</span>: <span class="keyword">function</span>(<span class="variable">element</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
			<span class="comment">// Initialise any required variables</span>
			<span class="keyword">var</span> <span class="variable">originalHeight</span> = <span class="keyword">null</span>,
				<span class="variable">originalOverflow</span> = <span class="keyword">null</span>;
			
			<span class="comment">// Set the height to 0 and the overflow to hidden and then slide it to its original</span>
			<span class="variable">element</span>.<span class="variable">animate</span>({
				<span class="variable">height</span>: <span class="keyword">function</span>() {
					<span class="comment">// Show the element and get its height</span>
					<span class="variable">originalHeight</span> = <span class="variable">element</span>.<span class="variable">show</span>().<span class="variable">style</span>(<span class="string">'height'</span>);
					
					<span class="comment">// Grab its overflow and default to visible</span>
					<span class="variable">originalOverflow</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>) || <span class="string">'visible'</span>;
					
					<span class="comment">// Set height to 0 and overflow to hidden</span>
					<span class="variable">element</span>.<span class="variable">style</span>({
						<span class="variable">height</span>: <span class="number integer">0</span>,
						<span class="variable">overflow</span>: <span class="string">'hidden'</span>
					});
					
					<span class="comment">// Slide height to its original</span>
					<span class="keyword">return</span> <span class="variable">originalHeight</span>;
				}
			}, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="keyword">function</span>() {
				<span class="comment">// Set the overflow to its original</span>
				<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>, <span class="variable">originalOverflow</span>);
				
				<span class="comment">// Run the callback if there is one</span>
				<span class="keyword">if</span>(<span class="variable">callback</span>) {
					<span class="variable">callback</span>();
				}
			});
		},
		<span class="variable">smooth</span>: <span class="keyword">function</span>(<span class="variable">element</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
			<span class="comment">// Initialise any required variables</span>
			<span class="keyword">var</span> <span class="variable">originalHeight</span> = <span class="keyword">null</span>,
				<span class="variable">originalWidth</span> = <span class="keyword">null</span>,
				<span class="variable">originalOpacity</span> = <span class="keyword">null</span>,
				<span class="variable">originalOverflow</span> = <span class="keyword">null</span>;
			
			<span class="comment">// Set the height, width and opacity to 0. Set the overflow to hidden and then animate everything to its original values</span>
			<span class="variable">element</span>.<span class="variable">animate</span>({
				<span class="variable">height</span>: <span class="keyword">function</span>() {
					<span class="comment">// Show the element and grab its height</span>
					<span class="variable">originalHeight</span> = <span class="variable">element</span>.<span class="variable">show</span>().<span class="variable">style</span>(<span class="string">'height'</span>);
					
					<span class="comment">// Grab its width</span>
					<span class="variable">originalWidth</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'width'</span>);
					
					<span class="comment">// Grab its opacity</span>
					<span class="variable">originalOpacity</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'opacity'</span>);
					
					<span class="comment">// Grab its overflow and default to visible</span>
					<span class="variable">originalOverflow</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>) || <span class="string">'visible'</span>;
					
					<span class="comment">// Reset the styles</span>
					<span class="variable">element</span>.<span class="variable">style</span>({
						<span class="variable">height</span>: <span class="number integer">0</span>,
						<span class="variable">width</span>: <span class="number integer">0</span>,
						<span class="variable">opacity</span>: <span class="number integer">0</span>,
						<span class="variable">overflow</span>: <span class="string">'hidden'</span>
					});
					
					<span class="comment">// Return the original height</span>
					<span class="keyword">return</span> <span class="variable">originalHeight</span>;
				},
				<span class="variable">width</span>: <span class="keyword">function</span>() {
					<span class="keyword">return</span> <span class="variable">originalWidth</span>;
				},
				<span class="variable">opacity</span>: <span class="keyword">function</span>() {
					<span class="keyword">return</span> <span class="variable">originalOpacity</span>;
				}
			}, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="keyword">function</span>() {
				<span class="comment">// Set the overflow to its original value</span>
				<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>, <span class="variable">originalOverflow</span>);
				
				<span class="comment">// Run the callback if there is one</span>
				<span class="keyword">if</span>(<span class="variable">callback</span>) {
					<span class="variable">callback</span>();
				}
			});
		}
	},
	<span class="variable">hide</span>: {
		<span class="variable">fade</span>: <span class="keyword">function</span>(<span class="variable">element</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
			<span class="comment">// Initialise any required variables</span>
			<span class="keyword">var</span> <span class="variable">original</span> = <span class="keyword">null</span>;
			
			<span class="comment">// Fade the opacity to 0, set it back to its original</span>
			<span class="variable">element</span>.<span class="variable">animate</span>({
				<span class="variable">opacity</span>: <span class="keyword">function</span>() {
					<span class="comment">// Get the opacity</span>
					<span class="variable">original</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'opacity'</span>);
					
					<span class="comment">// Fade to 0</span>
					<span class="keyword">return</span> <span class="number integer">0</span>;
				}
			}, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="keyword">function</span>() {
				<span class="comment">// Hide it</span>
				<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'opacity'</span>, <span class="variable">original</span>).<span class="variable">hide</span>();
				
				<span class="comment">// Run the callback if there is one</span>
				<span class="keyword">if</span>(<span class="variable">callback</span>) {
					<span class="variable">callback</span>();
				}
			});
		},
		<span class="variable">slide</span>: <span class="keyword">function</span>(<span class="variable">element</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
			<span class="comment">// Initialise any required variables</span>
			<span class="keyword">var</span> <span class="variable">originalHeight</span> = <span class="keyword">null</span>,
				<span class="variable">originalOverflow</span> = <span class="keyword">null</span>;
			
			<span class="comment">// Set its overflow to hidden and slide its height to 0</span>
			<span class="variable">element</span>.<span class="variable">animate</span>({
				<span class="variable">height</span>: <span class="keyword">function</span>() {
					<span class="comment">// Grab its height</span>
					<span class="variable">originalHeight</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'height'</span>);
					
					<span class="comment">// Grab its overflow and default to visible</span>
					<span class="variable">originalOverflow</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>) || <span class="string">'visible'</span>;
					
					<span class="comment">// Set the overflow to hidden</span>
					<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>, <span class="string">'hidden'</span>);
					
					<span class="comment">// Animate the height to 0</span>
					<span class="keyword">return</span> <span class="number integer">0</span>;
				}
			}, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="keyword">function</span>() {
				<span class="variable">element</span>.<span class="variable">style</span>({
					<span class="comment">// Set everything back to their defaults and hide it</span>
					<span class="variable">height</span>: <span class="variable">originalHeight</span>,
					<span class="variable">overflow</span>: <span class="variable">originalOverflow</span>
				}).<span class="variable">hide</span>();
				
				<span class="comment">// Run the callback if there is one</span>
				<span class="keyword">if</span>(<span class="variable">callback</span>) {
					<span class="variable">callback</span>();
				}
			});
		},
		<span class="variable">smooth</span>: <span class="keyword">function</span>(<span class="variable">element</span>, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="variable">callback</span>) {
			<span class="comment">// Initialise any required variables</span>
			<span class="keyword">var</span> <span class="variable">originalHeight</span> = <span class="keyword">null</span>,
				<span class="variable">originalWidth</span> = <span class="keyword">null</span>,
				<span class="variable">originalOpacity</span> = <span class="keyword">null</span>,
				<span class="variable">originalOverflow</span> = <span class="keyword">null</span>;
			
			<span class="comment">// Set its overflow to hidden and animate everything to 0</span>
			<span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>, <span class="string">'hidden'</span>).<span class="variable">animate</span>({
				<span class="variable">height</span>: <span class="keyword">function</span>() {
					<span class="comment">// Grab its height</span>
					<span class="variable">originalHeight</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'height'</span>);
					
					<span class="comment">// Grab its width</span>
					<span class="variable">originalWidth</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'width'</span>);
					
					<span class="comment">// Grab its opacity</span>
					<span class="variable">originalOpacity</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'opacity'</span>);
					
					<span class="comment">// Grab its overflow and default to visible</span>
					<span class="variable">originalOverflow</span> = <span class="variable">element</span>.<span class="variable">style</span>(<span class="string">'overflow'</span>) || <span class="string">'visible'</span>;
					
					<span class="comment">// Slide height to 0</span>
					<span class="keyword">return</span> <span class="number integer">0</span>;
				},
				<span class="variable">width</span>: <span class="number integer">0</span>,
				<span class="variable">opacity</span>: <span class="number integer">0</span>
			}, <span class="variable">timeframe</span>, <span class="variable">easing</span>, <span class="keyword">function</span>() {
				<span class="comment">// Set everything back to their defaults and hide it</span>
				<span class="variable">element</span>.<span class="variable">style</span>({
					<span class="variable">height</span>: <span class="variable">originalHeight</span>,
					<span class="variable">width</span>: <span class="variable">originalWidth</span>,
					<span class="variable">opacity</span>: <span class="variable">originalOpacity</span>,
					<span class="variable">overflow</span>: <span class="variable">originalOverflow</span>
				}).<span class="variable">hide</span>();
				
				<span class="comment">// Run the callback if there is one</span>
				<span class="keyword">if</span>(<span class="variable">callback</span>) {
					<span class="variable">callback</span>();
				}
			});
		}
	}
});
</code></pre>
</td>
</tr><tr class="filename"><td><h2 id="src/triggerEvent.js"><a href="#">triggerEvent</a></h2></td><td>src/triggerEvent.js</td></tr><tr class="code">
<td class="docs">
<p>Manually fire events assigned to elements</p>

<p>For example, to trigger a click event on all p elements you would use the following line</p>

<pre><code>$('p').triggerEvent('click');</code></pre>

<h2></h2>

<ul><li><p><strong>param</strong>: <em>String</em>  type Name of the event you wish to trigger</p></li><li><p><strong>returns</strong>: <em>Object</em>  Returns the Spark object for chaining</p></li></ul>
</td>
<td class="code">
<pre><code><span class="class">Spark</span>.<span class="variable">extend</span>(<span class="string">'triggerEvent'</span>, <span class="keyword">function</span>(<span class="variable">type</span>) {
	<span class="comment">// Initialise any required variables</span>
	<span class="keyword">var</span> <span class="variable">trigger</span> = <span class="keyword">null</span>;
	
	<span class="comment">// Loop through all of the elements</span>
	<span class="this">this</span>.<span class="variable">each</span>(<span class="keyword">function</span>(<span class="variable">e</span>) {
		<span class="comment">// Check for createEventObject</span>
		<span class="keyword">if</span>(<span class="variable">document</span>.<span class="variable">createEventObject</span>) {
			<span class="comment">// Trigger for Internet Explorer</span>
			<span class="variable">trigger</span> = <span class="variable">document</span>.<span class="variable">createEventObject</span>();
			<span class="variable">e</span>.<span class="variable">fireEvent</span>(<span class="string">'on'</span> + <span class="variable">type</span>, <span class="variable">trigger</span>);
		}
		<span class="keyword">else</span> {
			<span class="comment">// Trigger for the good browsers</span>
			<span class="variable">trigger</span> = <span class="variable">document</span>.<span class="variable">createEvent</span>(<span class="string">'HTMLEvents'</span>);
			<span class="variable">trigger</span>.<span class="variable">initEvent</span>(<span class="variable">type</span>, <span class="variable">true</span>, <span class="variable">true</span>);
			<span class="variable">e</span>.<span class="variable">dispatchEvent</span>(<span class="variable">trigger</span>);
		}
	});
	
	<span class="comment">// Return the Spark object for chaining</span>
	<span class="keyword">return</span> <span class="this">this</span>;
});
</code></pre>
</td>
</tr>	</body>
</html></tbody></table>